<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #ffffff;
    color: #a0a0a0;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
div.sourceCode
  { color: #1f1c1b; background-color: #ffffff; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span. { color: #1f1c1b; } /* Normal */
code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
code span.an { color: #ca60ca; } /* Annotation */
code span.at { color: #0057ae; } /* Attribute */
code span.bn { color: #b08000; } /* BaseN */
code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #924c9d; } /* Char */
code span.cn { color: #aa5500; } /* Constant */
code span.co { color: #898887; } /* Comment */
code span.cv { color: #0095ff; } /* CommentVar */
code span.do { color: #607880; } /* Documentation */
code span.dt { color: #0057ae; } /* DataType */
code span.dv { color: #b08000; } /* DecVal */
code span.er { color: #bf0303; text-decoration: underline; } /* Error */
code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code span.fl { color: #b08000; } /* Float */
code span.fu { color: #644a9b; } /* Function */
code span.im { color: #ff5500; } /* Import */
code span.in { color: #b08000; } /* Information */
code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code span.op { color: #1f1c1b; } /* Operator */
code span.ot { color: #006e28; } /* Other */
code span.pp { color: #006e28; } /* Preprocessor */
code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #ff5500; } /* SpecialString */
code span.st { color: #bf0303; } /* String */
code span.va { color: #0057ae; } /* Variable */
code span.vs { color: #bf0303; } /* VerbatimString */
code span.wa { color: #bf0303; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
  <title>Importing Author Information from CrossRef to Wikidata via QuickStatements</title>
  
  <meta property="description" itemprop="description" content="The post continues my quest to improve the presence of academic journal(s) in Wikidata. I reviewed the different searching approaches to find the authors, especially those with with non-English names, in Wikidata and upload the author metadata via QuickStatements."/>
  
  <link rel="license" href="https://creativecommons.org/licenses/by/4.0/"/>
  
  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2021-07-05"/>
  <meta property="article:created" itemprop="dateCreated" content="2021-07-05"/>
  <meta name="article:author" content="Aleksei Lutai"/>
  
  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Importing Author Information from CrossRef to Wikidata via QuickStatements"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="The post continues my quest to improve the presence of academic journal(s) in Wikidata. I reviewed the different searching approaches to find the authors, especially those with with non-English names, in Wikidata and upload the author metadata via QuickStatements."/>
  <meta property="og:locale" content="en_US"/>
  
  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Importing Author Information from CrossRef to Wikidata via QuickStatements"/>
  <meta property="twitter:description" content="The post continues my quest to improve the presence of academic journal(s) in Wikidata. I reviewed the different searching approaches to find the authors, especially those with with non-English names, in Wikidata and upload the author metadata via QuickStatements."/>
  
  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","categories","creative_commons","preview","output"]}},"value":[{"type":"character","attributes":{},"value":["Importing Author Information from CrossRef to Wikidata via QuickStatements"]},{"type":"character","attributes":{},"value":["The post continues my quest to improve the presence of academic journal(s) in Wikidata. I reviewed the different searching approaches to find the authors, especially those with with non-English names, in Wikidata and upload the author metadata via QuickStatements.\n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["first_name","last_name","url","orcid_id"]}},"value":[{"type":"character","attributes":{},"value":["Aleksei"]},{"type":"character","attributes":{},"value":["Lutai"]},{"type":"character","attributes":{},"value":["https://www.linkedin.com/in/lutaya/"]},{"type":"character","attributes":{},"value":["0000-0003-1341-781X"]}]}]},{"type":"character","attributes":{},"value":["07-05-2021"]},{"type":"character","attributes":{},"value":["crossref","wikidata","r","quickstatements","sparql","author metadata"]},{"type":"character","attributes":{},"value":["CC BY"]},{"type":"character","attributes":{},"value":["images/wd_statement_sok2.PNG"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","code_folding","highlight","highlight_downlit","toc","toc_depth","toc_float"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["kate"]},{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[true]},{"type":"integer","attributes":{},"value":[3]},{"type":"logical","attributes":{},"value":[true]}]}]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["images/wd_statement_sok1.PNG","images/wd_statement_sok2.PNG","images/wd_statement_sok3.PNG","images/wd_statement_sok4.PNG","images/wd_statement_sok5.PNG","images/wd_statement_sok6.PNG","images/wd_statement_sok7.PNG","importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/anchor-4.2.2/anchor.min.js","importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/bowser-1.9.3/bowser.min.js","importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/crosstalk-1.1.0.1/css/crosstalk.css","importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/crosstalk-1.1.0.1/js/crosstalk.js","importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/crosstalk-1.1.0.1/js/crosstalk.js.map","importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/crosstalk-1.1.0.1/js/crosstalk.min.js","importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/crosstalk-1.1.0.1/js/crosstalk.min.js.map","importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/datatables-binding-0.17/datatables.js","importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/datatables-css-0.0.0/datatables-crosstalk.css","importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/distill-2.2.21/template.v2.js","importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/dt-core-1.10.20/css/jquery.dataTables.extra.css","importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/dt-core-1.10.20/css/jquery.dataTables.min.css","importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/dt-core-1.10.20/js/jquery.dataTables.min.js","importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/dt-plugin-searchhighlight-1.10.20/jquery.highlight.js","importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/dt-plugin-searchhighlight-1.10.20/source.css","importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/dt-plugin-searchhighlight-1.10.20/source.min.js","importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/htmlwidgets-1.5.3/htmlwidgets.js","importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/jquery-1.12.4/jquery.min.js","importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/jquery-1.12.4/LICENSE.txt","importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/popper-2.6.0/popper.min.js","importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/tippy-6.2.7/tippy-bundle.umd.min.js","importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/tippy-6.2.7/tippy-light-border.css","importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/tippy-6.2.7/tippy.css","importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/tippy-6.2.7/tippy.umd.min.js","importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->
  
  <style type="text/css">
  
  body {
    background-color: white;
  }
  
  .pandoc-table {
    width: 100%;
  }
  
  .pandoc-table>caption {
    margin-bottom: 10px;
  }
  
  .pandoc-table th:not([align]) {
    text-align: left;
  }
  
  .pagedtable-footer {
    font-size: 15px;
  }
  
  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }
  
  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }
  
  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }
  
  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }
  
  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }
  
  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }
  
  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }
  
  .html-widget {
    margin-bottom: 2.0em;
  }
  
  .l-screen-inset {
    padding-right: 16px;
  }
  
  .l-screen .caption {
    margin-left: 10px;
  }
  
  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }
  
  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }
  
  .shaded .shaded-content {
    background: white;
  }
  
  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }
  
  .hidden {
    display: none !important;
  }
  
  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }
  
  d-appendix {
    padding-top: 30px;
  }
  
  d-article>p>img {
    width: 100%;
  }
  
  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }
  
  d-article h3 {
    margin-top: 1.5rem;
  }
  
  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }
  
  /* Tweak code blocks */
  
  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }
  
  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }
  
  d-article div.sourceCode {
    background-color: white;
  }
  
  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }
  
  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;
  
    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;
  
    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }
  
  d-article pre a {
    border-bottom: none;
  }
  
  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }
  
  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }
  
  @media(min-width: 768px) {
  
  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }
  
  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }
  
  d-article pre {
    font-size: 14px;
  }
  
  }
  
  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }
  
  /* CSS for d-contents */
  
  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }
  
  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }
  
  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }
  
  .d-contents li {
    list-style-type: none
  }
  
  .d-contents nav > ul {
    padding-left: 0;
  }
  
  .d-contents ul {
    padding-left: 1em
  }
  
  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }
  
  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }
  
  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }
  
  .d-contents nav > ul > li > a {
    font-weight: 600;
  }
  
  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }
  
  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }
  
  
  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }
  
  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }
  
  
  /* Figure */
  
  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }
  
  .figure img {
    width: 100%;
  }
  
  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }
  
  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }
  
  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }
  
  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }
  
  /* Citations */
  
  d-article .citation {
    color: inherit;
    cursor: inherit;
  }
  
  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }
  
  /* Citation hover box */
  
  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }
  
  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }
  
  
  /* Tweak 1000px media break to show more text */
  
  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }
  
    .grid {
      grid-column-gap: 16px;
    }
  
    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }
  
  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }
  
    .grid {
      grid-column-gap: 32px;
    }
  }
  
  
  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */
  
  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }
  
  /* Include appendix styles here so they can be overridden */
  
  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }
  
  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }
  
  d-appendix h3 + * {
    margin-top: 1em;
  }
  
  d-appendix ol {
    padding: 0 0 0 15px;
  }
  
  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }
  
  d-appendix li {
    margin-bottom: 1em;
  }
  
  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }
  
  d-appendix > * {
    grid-column: text;
  }
  
  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }
  
  /* Include footnote styles here so they can be overridden */
  
  d-footnote-list {
    contain: layout style;
  }
  
  d-footnote-list > * {
    grid-column: text;
  }
  
  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }
  
  
  
  /* Anchor.js */
  
  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }
  
  /* Social footer */
  
  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }
  
  .disqus-comments {
    margin-right: 30px;
  }
  
  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }
  
  #disqus_thread {
    margin-top: 30px;
  }
  
  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }
  
  .article-sharing a:hover {
    border-bottom: none;
  }
  
  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }
  
  .subscribe p {
    margin-bottom: 0.5em;
  }
  
  
  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }
  
  
  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }
  
  .custom p {
    margin-bottom: 0.5em;
  }
  
  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }
  
  /* Styles for posts lists (not auto-injected) */
  
  
  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }
  
  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }
  
  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }
  
  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }
  
  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }
  
  .post-preview-last {
    border-bottom: none !important;
  }
  
  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }
  
  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }
  
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }
  
  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }
  
  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }
  
  .posts-list .metadata > * {
    display: inline-block;
  }
  
  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }
  
  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }
  
  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }
  
  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }
  
  .posts-list img {
    opacity: 1;
  }
  
  .posts-list img[data-src] {
    opacity: 0;
  }
  
  .posts-more {
    clear: both;
  }
  
  
  .posts-sidebar {
    font-size: 16px;
  }
  
  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }
  
  .sidebar-section {
    margin-bottom: 30px;
  }
  
  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }
  
  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }
  
  .categories li>a {
    border-bottom: none;
  }
  
  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }
  
  .categories .active {
    font-weight: 600;
  }
  
  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }
  
  
  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }
  
  
  /* Improve display for browsers without grid (IE/Edge <= 15) */
  
  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }
  
  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }
  
  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }
  
  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }
  
  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }
  
  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }
  
  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }
  
  
  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }
  
  .downlevel .footnotes ol {
    padding-left: 13px;
  }
  
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }
  
  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }
  
  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }
  
  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;
  
    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;
  
    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }
  
  .downlevel .posts-list .post-preview {
    color: inherit;
  }
  
  
  
  </style>
  
  <script type="application/javascript">
  
  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }
  
  // show body when load is complete
  function on_load_complete() {
  
    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }
  
  
    // set body to visible
    document.body.style.visibility = 'visible';
  
    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }
  
    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }
  
  function init_distill() {
  
    init_common();
  
    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);
  
    // create d-title
    $('.d-title').changeElementType('d-title');
  
    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);
  
    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();
  
    // move posts container into article
    $('.posts-container').appendTo($('d-article'));
  
    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');
  
    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;
  
    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();
  
    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));
  
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });
  
    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');
  
    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {
  
      // capture layout
      var layout = $(this).attr('data-layout');
  
      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });
  
  
      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });
  
    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();
  
    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();
  
    // load distill framework
    load_distill_framework();
  
    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {
  
      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;
  
      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');
  
      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');
  
      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');
  
      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });
  
      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }
  
      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');
  
      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");
  
      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }
  
       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }
  
      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();
  
      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();
  
      // hoverable references
      $('span.citation[data-cites]').each(function() {
        var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });
  
      // clear polling timer
      clearInterval(tid);
  
      // show body now that everything is ready
      on_load_complete();
    }
  
    var tid = setInterval(distill_post_process, 50);
    distill_post_process();
  
  }
  
  function init_downlevel() {
  
    init_common();
  
     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));
  
    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
  
    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();
  
    // remove toc
    $('.d-contents').remove();
  
    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });
  
  
    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);
  
    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);
  
    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();
  
    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();
  
    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));
  
    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });
  
    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));
  
    $('body').addClass('downlevel');
  
    on_load_complete();
  }
  
  
  function init_common() {
  
    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};
  
        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });
  
        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);
  
    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});
  
    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });
  
      }
    });
  
    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });
  
    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }
  
    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');
  
    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");
  
    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();
  
    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }
  
  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });
  
  </script>
  
  <!--/radix_placeholder_distill-->
  <script src="importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/htmlwidgets-1.5.3/htmlwidgets.js"></script>
  <script src="importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/jquery-1.12.4/jquery.min.js"></script>
  <link href="importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
  <script src="importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/datatables-binding-0.17/datatables.js"></script>
  <link href="importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
  <link href="importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
  <script src="importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
  <link href="importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/dt-plugin-searchhighlight-1.10.20/source.css" rel="stylesheet" />
  <script src="importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/dt-plugin-searchhighlight-1.10.20/jquery.highlight.js"></script>
  <script src="importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/dt-plugin-searchhighlight-1.10.20/source.min.js"></script>
  <link href="importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
  <script src="importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
  <script src="importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/popper-2.6.0/popper.min.js"></script>
  <link href="importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="importing-author-information-from-crossref-to-wikidata-via-quickstatements_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Importing Author Information from CrossRef to Wikidata via QuickStatements","description":"The post continues my quest to improve the presence of academic journal(s) in Wikidata. I reviewed the different searching approaches to find the authors, especially those with with non-English names, in Wikidata and upload the author metadata via QuickStatements.","authors":[{"author":"Aleksei Lutai","authorURL":"https://www.linkedin.com/in/lutaya/","affiliation":"&nbsp;","affiliationURL":"#","orcidID":"0000-0003-1341-781X"}],"publishedDate":"2021-07-05T00:00:00.000+03:00","citationText":"Lutai, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Importing Author Information from CrossRef to Wikidata via QuickStatements</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
<div class="dt=tag">crossref</div>
<div class="dt=tag">wikidata</div>
<div class="dt=tag">r</div>
<div class="dt=tag">quickstatements</div>
<div class="dt=tag">sparql</div>
<div class="dt=tag">author metadata</div>
</div>
<!--/radix_placeholder_categories-->
<p><p>The post continues my quest to improve the presence of academic journal(s) in Wikidata. I reviewed the different searching approaches to find the authors, especially those with with non-English names, in Wikidata and upload the author metadata via QuickStatements.</p></p>
</div>

<div class="d-byline">
  
  true
  
<br/>07-05-2021
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#wikidata-for-academic-journal">Wikidata for Academic Journal</a></li>
<li><a href="#editing-wikidata">Editing Wikidata</a></li>
<li><a href="#data">Data</a></li>
<li><a href="#finding-the-articles-in-wikidata">Finding the articles in Wikidata</a></li>
<li><a href="#author-information-in-wikidata">Author Information in Wikidata</a></li>
<li><a href="#finding-authors-in-wikidata-by-pids">Finding Authors in Wikidata by PIDs</a></li>
<li><a href="#text-search-in-wikidata">Text Search in Wikidata</a></li>
<li><a href="#wikibase-api-wbsearchentities">Wikibase API: wbsearchentities</a></li>
<li><a href="#wikibase-api-querylistsearch">Wikibase API: query&amp;list=search</a></li>
<li><a href="#search-strategies">Search Strategies</a></li>
<li><a href="#step-1.-finding-given-names-in-wikidata">Step 1. Finding Given Names in Wikidata</a></li>
<li><a href="#step-2.-building-the-name-combinations">Step 2. Building the Name Combinations</a></li>
<li><a href="#step-3.-finding-authors-in-wikidata-by-name">Step 3. Finding authors in Wikidata (by name)</a></li>
<li><a href="#uploading-the-author-info-into-wikidata">Uploading the Author Info into Wikidata</a></li>
<li><a href="#final-remarks-to-the-journal-editors">Final Remarks (to the journal editors)</a></li>
<li><a href="#acknowledgments">Acknowledgments</a></li>
</ul>
</nav>
</div>
<p>In a <a href="https://dwayzer.netlify.app/posts/2021-06-28-post-publication-collecting-orcids-for-the-authors/">previous post</a> I was trying to do what is called an author disambiguation using the open metadata from <a href="https://www.crossref.org/">CrossRef</a>, <a href="https://academic.microsoft.com/">Microsoft Academic</a> and <a href="https://orcid.org/">ORCID</a>. I took 10 DOIs as an example and identified the ORCIDs for a number of authors. This initial idea was also to upload the author metadata info to Wikidata in the same post.</p>
<p>While I was working on it I realized that I completely lost a sense of smell. I decided to publish the previous part and postpone exercising with Wikidata till better days. I was lucky, it was not as bad as it is said it could be - a week later my only discomfort is that I still do not know the smells.</p>
<p>So, I am back, full of forces, and in this post I am going to prepare and uploade the author metadata to Wikidata.</p>
<h3 id="wikidata-for-academic-journal">Wikidata for Academic Journal</h3>
<p>You may be wondering why to bother about the journal’s standing in Wikidata, when there are many citation indices and A&amp;I databases that present the metadata. Apologies for not having a detailed and well-argumented intro for such a question. Instead, I would give you few examples that I find illustrative:</p>
<ol type="1">
<li><p>this is how the online service Scholia shows the journal <a href="https://scholia.toolforge.org/venue/Q757509">Atmospheric Chemistry and Physics</a> and the article <a href="https://scholia.toolforge.org/work/Q21090025">The Alzheimer’s disease-associated amyloid beta-protein is an antimicrobial peptide</a>, based on the Wikidata. If the journals and articles exists as Wikidata items and contain the metadata, the items can be cited in Wikipedia articles or be linked to other non-journal Wikidata items like author biographical facts, events, awards, organizations, topics, molecules, news, products, you name it. Altogether this forms a huge knowledge graph, absolutely incomparable with the citation/search engines we used to. This is the only way to highlight the journal impact in multiple facets, to move beyond the citation obsession.</p></li>
<li><p>here is a <a href="https://www.wikidata.org/wiki/User:MartinPoulter/queries">collection of Wikidata queries</a> prepared by Martin Poulter, demonstrating how the linked items can be investigated. There are more high-brow collections like this one with <a href="https://bitbucket.org/sulab/wikidatasparqlexamples/src/master/">biomedical queries</a>. You can run yourself any of those examples by clicking Try it! or Execute url links next to the SPARQL snippets.</p></li>
</ol>
<p>But not every journal looks this great in Wikidata to benefit from semantic blessing. In <a href="https://dwayzer.netlify.app/posts/2021-05-27-academic-journals-through-the-lens-of-wikidata/#cases-for-using-wikidata">one of my previous posts</a> I described how the Russian academic journals look in Wikidata and Wikipedia.</p>
<p>More argumentation on Wikidata’s value for the academic journals can be found in the original works <a href="https://scholar.google.com/scholar?as_ylo=2020&amp;q=Wikidata+Journal&amp;hl=en&amp;as_sdt=0,5">Google Scholar: Wikidata + Journal</a>.</p>
<h3 id="editing-wikidata">Editing Wikidata</h3>
<p>How the Wikidata contents can be added or improved? There are few ways:</p>
<ol type="A">
<li><p>manually. This is plain. You need to register to Wikidata, find the journal record and start copy/pasting the metadata bits.</p></li>
<li><p>with a help of tools, but still manually. There are some great tools like <a href="https://mix-n-match.toolforge.org/">Mix'n'match</a>, <a href="https://author-disambiguator.toolforge.org/">Author Disambiguator</a>, <a href="https://wikidata.reconci.link/">Wikidata Link Reconciler</a> and many others (<a href="https://m.wikidata.org/wiki/Wikidata:Tools/Edit_items">listed here</a>). Some of it requries of one to be an <a href="https://www.wikidata.org/wiki/Wikidata:Autoconfirmed_users">Autoconfirmed user</a>, which is a special status you get after having edited a certain number of items (a meritocracy in action if you will).</p></li>
<li><p>automatically, with <a href="https://www.wikidata.org/wiki/Wikidata:Tools/For_programmers">API-based tools</a>.</p></li>
</ol>
<p>In this post I am going to use the most popular tool named <a href="https://www.wikidata.org/wiki/Help:QuickStatements">QuickStatements</a>. This tool is fantastic, as it allows you to create/edit the Wikidata items by submitting the materials in very simple formats like CSV/TSV or a URL-encoded string. Like many other Wiki tools it was developed by <a href="https://en.wikipedia.org/wiki/User:Magnus_Manske">Magnus Manske</a>.</p>
<p>You will not be able to submit the materials in batches via QuickStatements until you get the status of Autoconfirmed User. But take it as a hint - <a href="https://www.wikidata.org/wiki/Help:QuickStatements#Running_QuickStatements_through_URL">running QuickStatements through URL</a> does not require the status, so you can start with it to reach the status and then switch to the batches. Or you can just deal with Wikimedia API directly. In this post I am going to describe only the batch uploading available for autoconfirmed users.</p>
<p>The good practice is to:</p>
<ol type="1">
<li><p>test your editing approaches on <a href="https://www.wikidata.org/wiki/Q4115189">Wikidata Sandbox</a>,</p></li>
<li><p>always check what you have done,</p></li>
<li><p>always fix the errors you made.</p></li>
</ol>
<p>This discipline can seem very annoying to some creative minds, but this is a public tool, it will be spoiled without the rules.</p>
<h3 id="data">Data</h3>
<p>In previous post I took 10 DOIs and made few manipulations to obtain the ORCIDs for some of the authors (see below). The CRF in the column names stands for CrossRef (as a source), MAG - for Microsoft Academic.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>final_data_checked</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='va'>dir</span>, <span class='st'>"/final.data.xlsx"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>readxl</span><span class='fu'>::</span><span class='fu'><a href='https://readxl.tidyverse.org/reference/read_excel.html'>read_xlsx</a></span><span class='op'>(</span>col_types <span class='op'>=</span> <span class='st'>"text"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>score</span><span class='op'>!=</span><span class='st'>"D"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>arrange</span><span class='op'>(</span><span class='va'>doi</span>, <span class='va'>score</span><span class='op'>)</span> 

<span class='va'>final_data_checked</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>orcid <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>score</span><span class='op'>==</span><span class='st'>"A"</span>, <span class='va'>orcid</span>, <span class='cn'>NA_character_</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>select</span><span class='op'>(</span><span class='va'>doi</span>, <span class='va'>order</span>, <span class='va'>orcid</span>, <span class='va'>`CRF family`</span>, <span class='va'>`CRF given`</span>, 
         <span class='va'>Scopus_AuthID</span>, <span class='va'>ResearcherID</span>, <span class='va'>`MAG Author ID`</span><span class='op'>)</span> <span class='op'>%&gt;%</span>  
  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span>rownames <span class='op'>=</span> <span class='cn'>FALSE</span>, escape <span class='op'>=</span> <span class='cn'>FALSE</span>, class <span class='op'>=</span> <span class='st'>'compact striped'</span>,
               caption <span class='op'>=</span> <span class='fu'>htmltools</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>tags</a></span><span class='op'>$</span><span class='fu'>caption</span><span class='op'>(</span>
               style <span class='op'>=</span> <span class='st'>'caption-side: bottom; 
               text-align: left; font-size: 80%; 
               color: #969696; font-family: Roboto Condensed;'</span>,
               <span class='st'>'Data: see in the text.'</span><span class='op'>)</span>,
    options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>searchHighlight <span class='op'>=</span> <span class='cn'>TRUE</span>, dom <span class='op'>=</span> <span class='st'>'Brtip'</span>,
                   autoWidth <span class='op'>=</span> <span class='cn'>FALSE</span>,
                columnDefs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
                  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>width <span class='op'>=</span> <span class='st'>'150px'</span>, targets <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>,
                  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>className <span class='op'>=</span> <span class='st'>'dt-center'</span>, targets <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
                  <span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-d86a947543e4b3e28b8f" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-d86a947543e4b3e28b8f">{"x":{"filter":"none","caption":"<caption style=\"caption-side: bottom; &#10;               text-align: left; font-size: 80%; &#10;               color: #969696; font-family: Roboto Condensed;\">Data: see in the text.<\/caption>","data":[["10.18288/1994-5124-2015-3-02","10.18288/1994-5124-2015-5-07","10.18288/1994-5124-2015-5-07","10.18288/1994-5124-2015-5-07","10.18288/1994-5124-2016-3-06","10.18288/1994-5124-2016-3-06","10.18288/1994-5124-2016-3-06","10.18288/1994-5124-2016-3-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2017-6-08","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2020-3-134-151","10.18288/1994-5124-2020-3-134-151","10.18288/1994-5124-2020-3-134-151","10.18288/1994-5124-2020-3-74-105","10.18288/1994-5124-2020-3-74-105"],["1","1","2","3","1","5","3","4","1","3","2","1","3","2","1","2","3","4","2","1","3","4","2","1","1","1","1","2"],["0000-0001-5040-102X","0000-0001-6556-6986","0000-0002-9838-8554",null,"0000-0002-6177-5307","0000-0001-6098-3078",null,null,"0000-0001-5040-102X","0000-0001-9210-4891",null,"0000-0001-7209-1907","0000-0001-6378-543X",null,"0000-0002-6860-2118","0000-0003-2394-9588","0000-0003-2255-7144",null,null,"0000-0003-2849-4674","0000-0002-4203-6541","0000-0002-4443-4594",null,null,null,null,"0000-0002-3152-3934","0000-0001-9786-3299"],["Kalendzhyan","Kolosnitsyna","Khorkina","Dorzhiev","Scelles","Andreff","Bonnale","Goyeau","Kalendzhyan","Gumilevskaya","Salnikov","Kaznacheev","Kjurchiski","Samoilova","Frenkel","Sergienko","Tichomirov","Roshchina","BALYAKINA","Vymyatnina","Ostapenko","Ryazanov","Grishchenko","Farhadi","Farhadi","Farhadi","Malkina","Ovchinnikov"],["Sergei","Marina","Natalia","Khongor","Nicolas","Wladimir","Liliane","Daniel","Sergey O.","Olga V.","Andrey A.","Peter F.","Nikola V.","Regina V.","Alexander A.","Yakov I.","Boris V.","Ludmila S.","Evgeniya","Yulia V.","Vsevolod M.","Viktor T.","Vadim O.","Zahra","Zahra","Zahra","Marina","Vyacheslav"],["15080567100","57194763797",null,null,"36180280200",null,null,null,"15080567100",null,null,"56453386200",null,null,null,null,null,null,null,"14122599300","57203619687","57190415996 | 57210461551",null,null,null,null,"57195256085",null],["K-6872-2018",null,"K-3506-2015",null,"D-4092-2016",null,null,null,"K-6872-2018","N-3641-2018",null,"N-7385-2018","W-3245-2017",null,null,null,null,null,null,"O-9794-2015","N-3819-2013","F-8575-2015",null,null,null,null,"M-2681-2017",null],[null,null,null,null,"37861991","218810591","1897624466","274695030","2298275513","2577331361","2599336845","2596586307","2596442991","2595480042","2501997763","2496092091","2504655559","2476549208","2790727393","2890596327","2892191970","2892172692","2890035969","2942823063","2942823063","2942823063","3038027445","3037152384"]],"container":"<table class=\"compact striped\">\n  <thead>\n    <tr>\n      <th>doi<\/th>\n      <th>order<\/th>\n      <th>orcid<\/th>\n      <th>CRF family<\/th>\n      <th>CRF given<\/th>\n      <th>Scopus_AuthID<\/th>\n      <th>ResearcherID<\/th>\n      <th>MAG Author ID<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"Brtip","deferRender":true,"ordering":true,"autoWidth":false,"scrollX":true,"searchHighlight":true,"columnDefs":[{"width":"150px","targets":[0,2]},{"className":"dt-center","targets":1}],"order":[],"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<p>But we can not submit DOI-ORCID links to Wikidata. The process needs to be organizaed a bit different:</p>
<ol type="1">
<li><p>we have check if the article are present in Wikidata (searching by DOI) and what metadata are available</p></li>
<li><p>next we should check for every author if it is present in Wikidata as an item (searching by ORCID, Scopus Author ID, Researcher ID, Microsoft Academic ID, and also by the author’s name)</p></li>
<li><p>once we have collected the details about article and author, we can submit one of 2 statements connecting those details:</p></li>
</ol>
<ul>
<li><p>wikidata item corresponding to the article (Q….) has an author (P50), which is Wikidata item (Q….), corresponding to the author.</p></li>
<li><p>wikidata item corresponding to the article (Q….) has an author string (P2093), which is not a Wikidata item, but a plain text.</p></li>
</ul>
<p>The statements above are simplified a bit, the Wikidata rules require the statements to be supported with the references and some specific qualifiers (statements for additional properties). The author information for the scholarly article needs to be backed with a source (i.e. CrossRef) and should have an ordinal. It may also have <a href="https://www.wikidata.org/wiki/Property:P2093">other properties</a> like affiliation or affiliation string.</p>
<h3 id="finding-the-articles-in-wikidata">Finding the articles in Wikidata</h3>
<p>The package <a href="https://github.com/TS404/WikidataR">WikidataR</a>, still in development, provides very practical options to work with Wikidata. We will use its function qid_from_identifier to find Wikidata by DOI.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dois_file</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='va'>dir</span>, <span class='st'>"dois_wiki.csv"</span><span class='op'>)</span>

<span class='kw'>if</span><span class='op'>(</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/files.html'>file.exists</a></span><span class='op'>(</span><span class='va'>dois_file</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
  <span class='va'>dois</span> <span class='op'>&lt;-</span> <span class='va'>final_data_checked</span> <span class='op'>%&gt;%</span> <span class='fu'>select</span><span class='op'>(</span><span class='va'>doi</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>distinct</span><span class='op'>(</span><span class='op'>)</span>
<span class='kw'>for</span> <span class='op'>(</span><span class='va'>i</span> <span class='kw'>in</span> <span class='fl'>1</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>dois</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>i</span><span class='op'>)</span>
  <span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/WikidataR/man/qid_from_identifier.html'>qid_from_identifier</a></span><span class='op'>(</span>property <span class='op'>=</span> <span class='st'>"DOI"</span>, value <span class='op'>=</span> <span class='va'>dois</span><span class='op'>$</span><span class='va'>doi</span><span class='op'>[</span><span class='va'>i</span><span class='op'>]</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'>unnest</span><span class='op'>(</span><span class='va'>qid</span><span class='op'>)</span>
  <span class='va'>dois</span><span class='op'>[</span><span class='va'>i</span>, <span class='st'>"wikidata"</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>res</span><span class='op'>)</span><span class='op'>==</span><span class='fl'>1</span>,  <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='va'>res</span><span class='op'>$</span><span class='va'>qid</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>)</span>, <span class='st'>""</span><span class='op'>)</span> 
  <span class='op'>}</span>
  <span class='fu'>write_excel_csv</span><span class='op'>(</span><span class='va'>dois</span>, <span class='va'>dois_file</span><span class='op'>)</span>
<span class='op'>}</span> <span class='kw'>else</span> <span class='op'>{</span>
  <span class='va'>dois</span> <span class='op'>&lt;-</span> <span class='fu'>read_csv</span><span class='op'>(</span><span class='va'>dois_file</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='va'>dois</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span>rownames <span class='op'>=</span> <span class='cn'>FALSE</span>, escape <span class='op'>=</span> <span class='cn'>FALSE</span>, class <span class='op'>=</span> <span class='st'>'compact striped'</span>,
               caption <span class='op'>=</span> <span class='fu'>htmltools</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>tags</a></span><span class='op'>$</span><span class='fu'>caption</span><span class='op'>(</span>
               style <span class='op'>=</span> <span class='st'>'caption-side: bottom; 
               text-align: left; font-size: 80%; 
               color: #969696; font-family: Roboto Condensed;'</span>,
               <span class='st'>'Data: wikidata.org.'</span><span class='op'>)</span>,
    options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>searchHighlight <span class='op'>=</span> <span class='cn'>TRUE</span>, dom <span class='op'>=</span> <span class='st'>'Brtip'</span>,
                   autoWidth <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-af7a5c3979a9295186e4" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-af7a5c3979a9295186e4">{"x":{"filter":"none","caption":"<caption style=\"caption-side: bottom; &#10;               text-align: left; font-size: 80%; &#10;               color: #969696; font-family: Roboto Condensed;\">Data: wikidata.org.<\/caption>","data":[["10.18288/1994-5124-2015-3-02","10.18288/1994-5124-2015-5-07","10.18288/1994-5124-2016-3-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2017-6-08","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2020-3-134-151","10.18288/1994-5124-2020-3-74-105"],["Q107266290","Q107266316","Q107266359","Q107266380","Q107266383","Q107266385","Q107266109","Q107265425","Q107266168","Q107266173"]],"container":"<table class=\"compact striped\">\n  <thead>\n    <tr>\n      <th>doi<\/th>\n      <th>wikidata<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"Brtip","deferRender":true,"ordering":true,"autoWidth":false,"scrollX":true,"searchHighlight":true,"order":[],"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<p>The publications are already present in Wikidata.</p>
<p>Let’s check of they already have anything about the authors. We can collect the author information using another function of WikidataR named get_item.</p>
<h3 id="author-information-in-wikidata">Author Information in Wikidata</h3>
<p>The code below obtains all the claims of the Wikidata item and extracts those that we are interested in:</p>
<ul>
<li><p><a href="https://www.wikidata.org/wiki/Property:P50">P50</a> (is author of) - statements linking the articles to the persons exisisting in Wikidata</p></li>
<li><p><a href="https://www.wikidata.org/wiki/Property:P2093">P2093</a> (author name string) - statements assigning the autor name string to the article</p></li>
<li><p><a href="https://www.wikidata.org/wiki/Property:P1545">P1545</a> (series ordinal) - a qualifier showing the author’s place in the author list</p></li>
<li><p><a href="https://www.wikidata.org/wiki/Property:P248">P248</a> (stated in) - statements used as the references (for the statements) pointing at a source of information. I suspect that there could be other properties used as references (maybe <a href="https://www.wikidata.org/wiki/Property:P3452">P3452 - “inferred from”</a>), but this does not matter in our case. If the author data is supported by strange reference, we will re-write it and refer to CrossRef as a source of metadata.</p></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>wd_auth_info_file</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='va'>dir</span>, <span class='st'>"wikidata_author_existing_details.csv"</span><span class='op'>)</span> 

<span class='kw'>if</span><span class='op'>(</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/files.html'>file.exists</a></span><span class='op'>(</span><span class='va'>wd_auth_info_file</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
  <span class='va'>wd_pub_existing_data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>)</span>
  
  <span class='kw'>for</span> <span class='op'>(</span><span class='va'>i</span> <span class='kw'>in</span> <span class='fl'>1</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>dois</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
    <span class='va'>b</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/WikidataR/man/get_item.html'>get_item</a></span><span class='op'>(</span><span class='va'>dois</span><span class='op'>$</span><span class='va'>wikidata</span><span class='op'>[</span><span class='va'>i</span><span class='op'>]</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>map</span><span class='op'>(</span><span class='va'>pluck</span>, <span class='st'>"claims"</span><span class='op'>)</span>
    <span class='va'>b</span> <span class='op'>&lt;-</span> <span class='va'>b</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"P2093"</span>, <span class='st'>"P50"</span><span class='op'>)</span><span class='op'>]</span>
    
    <span class='va'>wd_pub_auth_data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>cbind</a></span><span class='op'>(</span>
      <span class='co'>#1 part. author strings or Wiki items</span>
      <span class='va'>b</span> <span class='op'>%&gt;%</span> <span class='fu'>map</span><span class='op'>(</span><span class='op'>~</span><span class='op'>{</span><span class='va'>.x</span><span class='op'>[[</span><span class='st'>"mainsnak"</span><span class='op'>]</span><span class='op'>]</span><span class='op'>[</span><span class='st'>"datavalue"</span><span class='op'>]</span> <span class='op'>%&gt;%</span> <span class='fu'>map_df</span><span class='op'>(</span><span class='st'>"value"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
          <span class='fu'>select</span><span class='op'>(</span><span class='fu'>any_of</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"author_wiki"</span> <span class='op'>=</span> <span class='st'>"id"</span>, 
                          <span class='st'>"author_wiki"</span> <span class='op'>=</span> <span class='st'>"datavalue"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span><span class='op'>}</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
        <span class='fu'>map_df</span><span class='op'>(</span><span class='op'>~</span><span class='va'>.x</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
        <span class='fu'>mutate</span><span class='op'>(</span>author_wiki_type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"^Q\\d+"</span>,<span class='va'>author_wiki</span><span class='op'>)</span>, 
                                         <span class='st'>"P50"</span>, <span class='st'>"P2093"</span><span class='op'>)</span><span class='op'>)</span>,
      <span class='co'>#2 part. author statement IDs</span>
      <span class='va'>b</span> <span class='op'>%&gt;%</span> <span class='fu'>map</span><span class='op'>(</span><span class='op'>~</span><span class='op'>{</span><span class='va'>.x</span><span class='op'>[[</span><span class='st'>"id"</span><span class='op'>]</span><span class='op'>]</span><span class='op'>}</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/base/unlist.html'>unlist</a></span><span class='op'>(</span>use.names <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
        <span class='fu'>enframe</span><span class='op'>(</span>name <span class='op'>=</span> <span class='cn'>NULL</span>, value <span class='op'>=</span> <span class='st'>"Statement_ID"</span><span class='op'>)</span>,
      <span class='co'>#3 part. author order qualifiers</span>
      <span class='va'>b</span> <span class='op'>%&gt;%</span> <span class='fu'>map_df</span><span class='op'>(</span><span class='op'>~</span><span class='op'>{</span><span class='va'>.x</span><span class='op'>[[</span><span class='st'>"qualifiers"</span><span class='op'>]</span><span class='op'>]</span><span class='op'>[[</span><span class='st'>"P1545"</span><span class='op'>]</span><span class='op'>]</span> <span class='op'>%&gt;%</span> 
            <span class='fu'>map_df</span><span class='op'>(</span><span class='st'>"datavalue"</span><span class='op'>)</span><span class='op'>}</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
            <span class='fu'>select</span><span class='op'>(</span><span class='fu'>any_of</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"order"</span> <span class='op'>=</span> <span class='st'>"value"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
            <span class='fu'>mutate</span><span class='op'>(</span>qualif_prop <span class='op'>=</span> <span class='st'>"P1545"</span><span class='op'>)</span>,
      <span class='co'>#4 part. references/sources</span>
      <span class='va'>b</span> <span class='op'>%&gt;%</span> <span class='fu'>map_df</span><span class='op'>(</span><span class='op'>~</span><span class='op'>{</span><span class='va'>.x</span><span class='op'>[[</span><span class='st'>"references"</span><span class='op'>]</span><span class='op'>]</span> <span class='op'>%&gt;%</span> 
            <span class='fu'>map_df</span><span class='op'>(</span><span class='va'>pluck</span>, <span class='st'>"snaks"</span>, <span class='st'>"P248"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
            <span class='fu'>map_df</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='st'>"value"</span>,<span class='st'>"id"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>}</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
        <span class='fu'>select</span><span class='op'>(</span>source <span class='op'>=</span> <span class='va'>datavalue</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
        <span class='fu'>mutate</span><span class='op'>(</span>source_prop <span class='op'>=</span> <span class='st'>"P248"</span><span class='op'>)</span>
    <span class='op'>)</span> <span class='op'>%&gt;%</span> 
      <span class='fu'>mutate</span><span class='op'>(</span>qid <span class='op'>=</span> <span class='va'>dois</span><span class='op'>$</span><span class='va'>wikidata</span><span class='op'>[</span><span class='va'>i</span><span class='op'>]</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
      <span class='fu'>relocate</span><span class='op'>(</span><span class='va'>qid</span><span class='op'>)</span>
    
    <span class='va'>wd_pub_existing_data</span> <span class='op'>&lt;-</span> <span class='va'>wd_pub_existing_data</span> <span class='op'>%&gt;%</span> <span class='fu'>bind_rows</span><span class='op'>(</span><span class='va'>wd_pub_auth_data</span><span class='op'>)</span>
    <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>i</span><span class='op'>)</span>
  <span class='op'>}</span> 
  <span class='fu'>write_excel_csv</span><span class='op'>(</span><span class='va'>wd_pub_existing_data</span>, <span class='va'>wd_auth_info_file</span><span class='op'>)</span>
 <span class='op'>}</span> <span class='kw'>else</span> <span class='op'>{</span>
  <span class='va'>wd_pub_existing_data</span> <span class='op'>&lt;-</span> <span class='fu'>read_csv</span><span class='op'>(</span><span class='va'>wd_auth_info_file</span>, 
                                   col_types <span class='op'>=</span> <span class='fu'>cols</span><span class='op'>(</span>.default <span class='op'>=</span> <span class='fu'>col_character</span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
 <span class='op'>}</span> 

<span class='va'>wd_pub_existing_data</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>relocate</span><span class='op'>(</span><span class='va'>Statement_ID</span>, .after <span class='op'>=</span> <span class='va'>source_prop</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span>rownames <span class='op'>=</span> <span class='cn'>FALSE</span>, escape <span class='op'>=</span> <span class='cn'>FALSE</span>, class <span class='op'>=</span> <span class='st'>'compact striped'</span>,
               caption <span class='op'>=</span> <span class='fu'>htmltools</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>tags</a></span><span class='op'>$</span><span class='fu'>caption</span><span class='op'>(</span>
               style <span class='op'>=</span> <span class='st'>'caption-side: bottom; 
               text-align: left; font-size: 80%; 
               color: #969696; font-family: Roboto Condensed;'</span>,
               <span class='st'>'Data: wikidata.org.'</span><span class='op'>)</span>,
     options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>searchHighlight <span class='op'>=</span> <span class='cn'>TRUE</span>, dom <span class='op'>=</span> <span class='st'>'Brtip'</span>,
                   autoWidth <span class='op'>=</span> <span class='cn'>TRUE</span>,
                columnDefs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
                  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>width <span class='op'>=</span> <span class='st'>'430px'</span>, targets <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>7</span><span class='op'>)</span><span class='op'>)</span>,
                   <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>width <span class='op'>=</span> <span class='st'>'150px'</span>, targets <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>,
                  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>className <span class='op'>=</span> <span class='st'>'dt-center'</span>, targets <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>,<span class='fl'>3</span>,<span class='fl'>4</span>,<span class='fl'>5</span>,<span class='fl'>6</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
                  <span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-398b133b90988f7e4c18" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-398b133b90988f7e4c18">{"x":{"filter":"none","caption":"<caption style=\"caption-side: bottom; &#10;               text-align: left; font-size: 80%; &#10;               color: #969696; font-family: Roboto Condensed;\">Data: wikidata.org.<\/caption>","data":[["Q107266290","Q107266316","Q107266316","Q107266316","Q107266359","Q107266359","Q107266359","Q107266359","Q107266359","Q107266380","Q107266380","Q107266380","Q107266383","Q107266383","Q107266383","Q107266385","Q107266385","Q107266385","Q107266385","Q107266109","Q107266109","Q107265425","Q107265425","Q107265425","Q107265425","Q107266168","Q107266173","Q107266173"],["Kalendzhyan S.O.","Kolosnitsyna M.G.","Khorkina N.","Dorzhiev K.","Durand C.","Bonnal L.","Goyeau D.","Nicolas Scelles","Q93427896","Kalendzhyan S.O.","Salnikov A.A.","Gumilevskaya O.V.","Kaznacheev P.F.","Samoilova R.V.","Kjurchiski N.V.","Frenkel A.A.","Sergienko Y.V.","Tichomirov B.V.","Roshchina L.S.","Kuklin A.A.","Balyakina E.A.","Vymyatnina Y.V.","Grishchenko V.O.","Ostapenko V.M.","Ryazanov V.T.","Farhadi Z.","Malkina M.Y.","Ovchinnikov V.N."],["P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P50","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093"],["1","1","2","3","2","3","4","1","5","1","2","3","1","2","3","1","2","3","4","1","2","1","2","3","4","1","1","2"],["P1545","P1545","P1545","P1545","P1545","P1545","P1545","P1545","P1545","P1545","P1545","P1545","P1545","P1545","P1545","P1545","P1545","P1545","P1545","P1545","P1545","P1545","P1545","P1545","P1545","P1545","P1545","P1545"],["Q371467","Q371467","Q371467","Q371467","Q371467","Q371467","Q371467","Q5188229","Q5188229","Q371467","Q371467","Q371467","Q371467","Q371467","Q371467","Q371467","Q371467","Q371467","Q371467","Q371467","Q371467","Q371467","Q371467","Q371467","Q371467","Q371467","Q371467","Q371467"],["P248","P248","P248","P248","P248","P248","P248","P248","P248","P248","P248","P248","P248","P248","P248","P248","P248","P248","P248","P248","P248","P248","P248","P248","P248","P248","P248","P248"],["Q107266290$77458B66-D3CC-47E0-B496-8A7DB0DB875D","Q107266316$6A3E99F8-32C7-40E6-8C25-8D9C7364C529","Q107266316$BE4E15FE-4773-457A-833F-F695627F4727","Q107266316$6188A7D1-DF42-4BCA-9A8D-24CA118A7455","Q107266359$F568FBAD-F223-466D-B566-6277AA8F26F5","Q107266359$5ADB28CD-2705-47BA-9A96-B4EF1FAE9BB5","Q107266359$A9F7B7AB-268B-4EDB-9A1B-DFCC70D7DE33","Q107266359$FC5CED2C-69FC-441B-98D5-8CBFA174AAFD","Q107266359$1E953F5D-D37C-4A94-BBDF-750C1A9627B6","Q107266380$8777ACF3-7CA9-4D48-8FA9-4E97F8B52649","Q107266380$0B23C1B4-1FDB-4227-9BA1-4466ED4C965B","Q107266380$EED83C36-D538-42AB-A60B-B6D36D6B8DAF","Q107266383$3686F3BB-F733-463F-AE13-C8F4DB7B0699","Q107266383$C09F3DC5-73F1-47D7-B8A0-35CFC41416D7","Q107266383$3A915F0A-0D3F-4433-B8F7-DBB02AA24FBA","Q107266385$8BCD9615-DA04-4A36-9A9E-8099344AEEAA","Q107266385$A3F71856-30BE-4E29-AF13-832AD58EF980","Q107266385$2424FC4A-CBEB-45DE-B021-B8E93A35C32D","Q107266385$B3506374-EB9E-4DE3-B199-07BD3645EB92","Q107266109$83650427-6952-4418-BCB7-9D629F43B2A2","Q107266109$2BC38777-99C3-4FAE-AB3D-231E0ED5D9D3","Q107265425$9ABB7797-0F93-455E-87B7-BE8950B2641B","Q107265425$BDC8756F-0B71-47F0-88BF-46CADC75A785","Q107265425$037C5402-F5D4-4B44-9706-80127AB8DC48","Q107265425$E75C2980-A5C9-4AF6-84C2-FEA80FDD08C5","Q107266168$68EFCFB3-B61A-44EF-9465-A14C94AC2693","Q107266173$7A922648-4D42-4012-89A7-6B08D384B737","Q107266173$6A5897B1-7330-499C-803B-8B562565E2AB"]],"container":"<table class=\"compact striped\">\n  <thead>\n    <tr>\n      <th>qid<\/th>\n      <th>author_wiki<\/th>\n      <th>author_wiki_type<\/th>\n      <th>order<\/th>\n      <th>qualif_prop<\/th>\n      <th>source<\/th>\n      <th>source_prop<\/th>\n      <th>Statement_ID<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"Brtip","deferRender":true,"ordering":true,"autoWidth":true,"scrollX":true,"searchHighlight":true,"columnDefs":[{"width":"430px","targets":7},{"width":"150px","targets":1},{"className":"dt-center","targets":[2,3,4,5,6]}],"order":[],"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<p>This is how the author relations look like:</p>
<ul>
<li>a Wikidata item corresponding to the article (Q107266290) has a text (Kalendzhyan S.O.) as an author name string (P2093), its position amoung authors (P1545) is 1, and we should trust this info as it is stated in (P248) Scopus (Q371467). This relation is stored as a statement with number Q107266290$77458B66-…-8A7DB0DB875D.</li>
</ul>
<p>Or, in cases when the author exists as Wikidata item and linked to the Wikidata item for the article, the relation look like:</p>
<ul>
<li>a Wikidata item corresponding to the article (Q107266359) has an author (P50), which is a Wikidata item (Q93427896), corresponding to a person, which place in the authors list (P1545) is 5, as stated in (P248) in CrossRef (Q5188229). This relation is stored as a statement with number Q107266359$1E953F5D-…-750C1A9627B6.</li>
</ul>
<p>Are we satisfied with the author names present in Wikidata as text (authorname string)? Of course, we should not be. With text strings for the authors Wikidata is just like any other A&amp;I database. To see a magic of Wiki, we have to substitute the author name strings (defined by P2093) with the Wikidata items corresponding to the persons (defined by P50). With those authors our analytical reach will expand beyond the names, as we will be able to analyze the relations of the authors (known to Wikidata).</p>
<p>Let’s search the Wikidata items corresponding to the authors - for this we can use the author’s name and the personal identificators (PID).</p>
<h3 id="finding-authors-in-wikidata-by-pids">Finding Authors in Wikidata by PIDs</h3>
<p>First, we will try to find the Wikidata items by PIDs. In order to do that I will take the initital data and filter out the authors for which I <a href="https://dwayzer.netlify.app/posts/2021-06-28-post-publication-collecting-orcids-for-the-authors/">earlier found</a> the ORCIDs and other PIDs.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>zz1</span> <span class='op'>&lt;-</span> <span class='va'>final_data_checked</span> <span class='op'>%&gt;%</span> 
    <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>score</span><span class='op'>==</span><span class='st'>"A"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'>select</span><span class='op'>(</span><span class='va'>doi</span>, <span class='va'>order</span>, <span class='va'>orcid</span>, <span class='va'>Scopus_AuthID</span>, <span class='va'>ResearcherID</span>, <span class='va'>`MAG Author ID`</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>orcid</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'>mutate_at</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Scopus_AuthID"</span>, <span class='st'>"ResearcherID"</span><span class='op'>)</span>, <span class='op'>~</span><span class='fu'>str_split</span><span class='op'>(</span><span class='va'>.x</span>, <span class='st'>"\\|"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
    <span class='fu'>unnest</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Scopus_AuthID"</span>, <span class='st'>"ResearcherID"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'>pivot_longer</span><span class='op'>(</span><span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"doi"</span>, <span class='st'>"order"</span><span class='op'>)</span>, names_to <span class='op'>=</span> <span class='st'>"src"</span>, values_to <span class='op'>=</span> <span class='st'>"id"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
    <span class='fu'>mutate_all</span><span class='op'>(</span><span class='op'>~</span><span class='fu'>str_squish</span><span class='op'>(</span><span class='va'>.x</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>id</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>zz1</span> <span class='op'>%&gt;%</span>  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span>rownames <span class='op'>=</span> <span class='cn'>FALSE</span>, escape <span class='op'>=</span> <span class='cn'>FALSE</span>, class <span class='op'>=</span> <span class='st'>'compact striped'</span>,
               caption <span class='op'>=</span> <span class='fu'>htmltools</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>tags</a></span><span class='op'>$</span><span class='fu'>caption</span><span class='op'>(</span>
               style <span class='op'>=</span> <span class='st'>'caption-side: bottom; 
               text-align: left; font-size: 80%; 
               color: #969696; font-family: Roboto Condensed;'</span>,
               <span class='st'>'Data: wikidata.org.'</span><span class='op'>)</span>,
    options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>searchHighlight <span class='op'>=</span> <span class='cn'>TRUE</span>, dom <span class='op'>=</span> <span class='st'>'Brtip'</span>,
                   autoWidth <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-3c71572df38470041201" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-3c71572df38470041201">{"x":{"filter":"none","caption":"<caption style=\"caption-side: bottom; &#10;               text-align: left; font-size: 80%; &#10;               color: #969696; font-family: Roboto Condensed;\">Data: wikidata.org.<\/caption>","data":[["10.18288/1994-5124-2015-3-02","10.18288/1994-5124-2015-3-02","10.18288/1994-5124-2015-3-02","10.18288/1994-5124-2015-5-07","10.18288/1994-5124-2015-5-07","10.18288/1994-5124-2015-5-07","10.18288/1994-5124-2015-5-07","10.18288/1994-5124-2016-3-06","10.18288/1994-5124-2016-3-06","10.18288/1994-5124-2016-3-06","10.18288/1994-5124-2016-3-06","10.18288/1994-5124-2016-3-06","10.18288/1994-5124-2016-3-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2020-3-74-105","10.18288/1994-5124-2020-3-74-105","10.18288/1994-5124-2020-3-74-105","10.18288/1994-5124-2020-3-74-105","10.18288/1994-5124-2020-3-74-105","10.18288/1994-5124-2020-3-74-105"],["1","1","1","1","1","2","2","1","1","1","1","5","5","1","1","1","1","3","3","3","1","1","1","1","3","3","3","1","1","2","2","3","3","1","1","1","1","3","3","3","3","4","4","4","4","4","4","4","4","1","1","1","1","2","2"],["orcid","Scopus_AuthID","ResearcherID","orcid","Scopus_AuthID","orcid","ResearcherID","orcid","Scopus_AuthID","ResearcherID","MAG Author ID","orcid","MAG Author ID","orcid","Scopus_AuthID","ResearcherID","MAG Author ID","orcid","ResearcherID","MAG Author ID","orcid","Scopus_AuthID","ResearcherID","MAG Author ID","orcid","ResearcherID","MAG Author ID","orcid","MAG Author ID","orcid","MAG Author ID","orcid","MAG Author ID","orcid","Scopus_AuthID","ResearcherID","MAG Author ID","orcid","Scopus_AuthID","ResearcherID","MAG Author ID","orcid","Scopus_AuthID","ResearcherID","MAG Author ID","orcid","Scopus_AuthID","ResearcherID","MAG Author ID","orcid","Scopus_AuthID","ResearcherID","MAG Author ID","orcid","MAG Author ID"],["0000-0001-5040-102X","15080567100","K-6872-2018","0000-0001-6556-6986","57194763797","0000-0002-9838-8554","K-3506-2015","0000-0002-6177-5307","36180280200","D-4092-2016","37861991","0000-0001-6098-3078","218810591","0000-0001-5040-102X","15080567100","K-6872-2018","2298275513","0000-0001-9210-4891","N-3641-2018","2577331361","0000-0001-7209-1907","56453386200","N-7385-2018","2596586307","0000-0001-6378-543X","W-3245-2017","2596442991","0000-0002-6860-2118","2501997763","0000-0003-2394-9588","2496092091","0000-0003-2255-7144","2504655559","0000-0003-2849-4674","14122599300","O-9794-2015","2890596327","0000-0002-4203-6541","57203619687","N-3819-2013","2892191970","0000-0002-4443-4594","57190415996","F-8575-2015","2892172692","0000-0002-4443-4594","57210461551","F-8575-2015","2892172692","0000-0002-3152-3934","57195256085","M-2681-2017","3038027445","0000-0001-9786-3299","3037152384"]],"container":"<table class=\"compact striped\">\n  <thead>\n    <tr>\n      <th>doi<\/th>\n      <th>order<\/th>\n      <th>src<\/th>\n      <th>id<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"Brtip","deferRender":true,"ordering":true,"autoWidth":false,"scrollX":true,"searchHighlight":true,"order":[],"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<p>Let’s search them one by one in Wikidata using qid_from_identifier function from WikidataR package with the appropriate property for each PID type.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>wd_authors_by_ids_file</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='va'>dir</span>, <span class='st'>"wd_authors_by_ids.csv"</span><span class='op'>)</span>

<span class='kw'>if</span><span class='op'>(</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/files.html'>file.exists</a></span><span class='op'>(</span><span class='va'>wd_authors_by_ids_file</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
  <span class='kw'>for</span> <span class='op'>(</span><span class='va'>i</span> <span class='kw'>in</span> <span class='fl'>1</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>zz1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
    <span class='kw'>if</span><span class='op'>(</span><span class='va'>zz1</span><span class='op'>$</span><span class='va'>src</span><span class='op'>[</span><span class='va'>i</span><span class='op'>]</span><span class='op'>==</span><span class='st'>"orcid"</span><span class='op'>)</span><span class='op'>{</span>
      <span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/WikidataR/man/qid_from_identifier.html'>qid_from_identifier</a></span><span class='op'>(</span>property <span class='op'>=</span> <span class='st'>"ORCID iD"</span>, 
                                 value <span class='op'>=</span> <span class='va'>zz1</span><span class='op'>$</span><span class='va'>id</span><span class='op'>[</span><span class='va'>i</span><span class='op'>]</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>unnest</span><span class='op'>(</span><span class='va'>qid</span><span class='op'>)</span>
      <span class='op'>}</span>
    <span class='kw'>if</span><span class='op'>(</span><span class='va'>zz1</span><span class='op'>$</span><span class='va'>src</span><span class='op'>[</span><span class='va'>i</span><span class='op'>]</span><span class='op'>==</span><span class='st'>"MAG Author ID"</span><span class='op'>)</span><span class='op'>{</span>
      <span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/WikidataR/man/qid_from_identifier.html'>qid_from_identifier</a></span><span class='op'>(</span>property <span class='op'>=</span> <span class='st'>"Microsoft Academic ID"</span>, 
                                 value <span class='op'>=</span> <span class='va'>zz1</span><span class='op'>$</span><span class='va'>id</span><span class='op'>[</span><span class='va'>i</span><span class='op'>]</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>unnest</span><span class='op'>(</span><span class='va'>qid</span><span class='op'>)</span>
    <span class='op'>}</span>
    <span class='kw'>if</span><span class='op'>(</span><span class='va'>zz1</span><span class='op'>$</span><span class='va'>src</span><span class='op'>[</span><span class='va'>i</span><span class='op'>]</span><span class='op'>==</span><span class='st'>"Scopus_AuthID"</span><span class='op'>)</span><span class='op'>{</span>
      <span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/WikidataR/man/qid_from_identifier.html'>qid_from_identifier</a></span><span class='op'>(</span>property <span class='op'>=</span> <span class='st'>"Scopus author ID"</span>, 
                                 value <span class='op'>=</span> <span class='va'>zz1</span><span class='op'>$</span><span class='va'>id</span><span class='op'>[</span><span class='va'>i</span><span class='op'>]</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>unnest</span><span class='op'>(</span><span class='va'>qid</span><span class='op'>)</span>
    <span class='op'>}</span>
    <span class='kw'>if</span><span class='op'>(</span><span class='va'>zz1</span><span class='op'>$</span><span class='va'>src</span><span class='op'>[</span><span class='va'>i</span><span class='op'>]</span><span class='op'>==</span><span class='st'>"ResearcherID"</span><span class='op'>)</span><span class='op'>{</span>
      <span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/WikidataR/man/qid_from_identifier.html'>qid_from_identifier</a></span><span class='op'>(</span>property <span class='op'>=</span> <span class='st'>"ResearcherID"</span>, 
                                 value <span class='op'>=</span> <span class='va'>zz1</span><span class='op'>$</span><span class='va'>id</span><span class='op'>[</span><span class='va'>i</span><span class='op'>]</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>unnest</span><span class='op'>(</span><span class='va'>qid</span><span class='op'>)</span>
    <span class='op'>}</span>
    <span class='va'>zz1</span><span class='op'>[</span><span class='va'>i</span>, <span class='st'>"wikidata"</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>res</span><span class='op'>)</span><span class='op'>==</span><span class='fl'>1</span>, 
                                 <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='va'>res</span><span class='op'>$</span><span class='va'>qid</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>)</span>, <span class='st'>"unusual_response"</span><span class='op'>)</span> 
    <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>i</span><span class='op'>)</span>
  <span class='op'>}</span>
  
  <span class='va'>zz1</span> <span class='op'>&lt;-</span> <span class='va'>zz1</span> <span class='op'>%&gt;%</span> <span class='fu'>select</span><span class='op'>(</span><span class='va'>doi</span>, <span class='va'>order</span>, <span class='va'>wikidata</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>distinct</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='op'>)</span>
  
  <span class='fu'>write_excel_csv</span><span class='op'>(</span><span class='va'>zz1</span>, <span class='va'>wd_authors_by_ids_file</span><span class='op'>)</span>
<span class='op'>}</span> <span class='kw'>else</span> <span class='op'>{</span> 
  <span class='va'>zz1</span> <span class='op'>&lt;-</span> <span class='fu'>read_csv</span><span class='op'>(</span><span class='va'>wd_authors_by_ids_file</span>, col_types <span class='op'>=</span> <span class='fu'>cols</span><span class='op'>(</span>.default <span class='op'>=</span> <span class='fu'>col_character</span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='va'>zz1</span> <span class='op'>%&gt;%</span> <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span>rownames <span class='op'>=</span> <span class='cn'>FALSE</span>, escape <span class='op'>=</span> <span class='cn'>FALSE</span>, class <span class='op'>=</span> <span class='st'>'compact striped'</span>,
               caption <span class='op'>=</span> <span class='fu'>htmltools</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>tags</a></span><span class='op'>$</span><span class='fu'>caption</span><span class='op'>(</span>
               style <span class='op'>=</span> <span class='st'>'caption-side: bottom; 
               text-align: left; font-size: 80%; 
               color: #969696; font-family: Roboto Condensed;'</span>,
               <span class='st'>'Data: wikidata.org.'</span><span class='op'>)</span>,
    options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>searchHighlight <span class='op'>=</span> <span class='cn'>TRUE</span>, dom <span class='op'>=</span> <span class='st'>'Brtip'</span>,
                   autoWidth <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-adc87550fc3ba2e0437b" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-adc87550fc3ba2e0437b">{"x":{"filter":"none","caption":"<caption style=\"caption-side: bottom; &#10;               text-align: left; font-size: 80%; &#10;               color: #969696; font-family: Roboto Condensed;\">Data: wikidata.org.<\/caption>","data":[[],[],[]],"container":"<table class=\"compact striped\">\n  <thead>\n    <tr>\n      <th>doi<\/th>\n      <th>order<\/th>\n      <th>wikidata<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"Brtip","deferRender":true,"ordering":true,"autoWidth":false,"scrollX":true,"searchHighlight":true,"order":[],"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<p>We found nothing.</p>
<p>I know that some of our authors are 100% present in Wikidata, but their items do not have the statements linking the items to PIDs like ORCID, Scopus Author ID, etc, therefore, we can not find them using PIDs. This is just our case, many researchers have Wikidata items with PIDs.</p>
<p>Our last chance in this situation is to search by name.</p>
<p>Let’s prepare the names.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>zz2</span> <span class='op'>&lt;-</span> <span class='va'>final_data_checked</span> <span class='op'>%&gt;%</span> 
  <span class='co'># anti_join is for cases when something is found by PIDs </span>
  <span class='fu'>anti_join</span><span class='op'>(</span><span class='va'>zz1</span>, by <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"doi"</span>, <span class='st'>"order"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>select</span><span class='op'>(</span><span class='va'>doi</span>, <span class='va'>order</span>, <span class='va'>`CRF family`</span>, <span class='va'>`CRF given`</span>, <span class='va'>`MAG family`</span>, <span class='va'>`MAG given`</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate_at</span><span class='op'>(</span><span class='fl'>3</span><span class='op'>:</span><span class='fl'>6</span>, <span class='op'>~</span><span class='fu'>str_to_title</span><span class='op'>(</span><span class='fu'>str_extract</span><span class='op'>(</span><span class='va'>.x</span>, <span class='st'>"^[^\\s]+"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>pivot_longer</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"CRF family"</span>, <span class='st'>"CRF given"</span>, 
                  <span class='st'>"MAG family"</span>, <span class='st'>"MAG given"</span><span class='op'>)</span>, 
                names_to <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"source"</span>, <span class='st'>"name_type"</span><span class='op'>)</span>, 
                names_pattern <span class='op'>=</span> <span class='st'>"(.+) (.+)"</span>, 
                values_to <span class='op'>=</span> <span class='st'>"name"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>distinct</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>pivot_wider</span><span class='op'>(</span>names_from <span class='op'>=</span> <span class='va'>name_type</span>, values_from <span class='op'>=</span> <span class='va'>name</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>family</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>select</span><span class='op'>(</span><span class='op'>-</span><span class='va'>source</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>distinct</span><span class='op'>(</span><span class='op'>)</span>

<span class='va'>zz2</span> <span class='op'>%&gt;%</span> <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span>rownames <span class='op'>=</span> <span class='cn'>FALSE</span>, escape <span class='op'>=</span> <span class='cn'>FALSE</span>, class <span class='op'>=</span> <span class='st'>'compact striped'</span>,
               caption <span class='op'>=</span> <span class='fu'>htmltools</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>tags</a></span><span class='op'>$</span><span class='fu'>caption</span><span class='op'>(</span>
               style <span class='op'>=</span> <span class='st'>'caption-side: bottom; 
               text-align: left; font-size: 80%; 
               color: #969696; font-family: Roboto Condensed;'</span>,
               <span class='st'>'Data: wikidata.org.'</span><span class='op'>)</span>,
    options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>searchHighlight <span class='op'>=</span> <span class='cn'>TRUE</span>, dom <span class='op'>=</span> <span class='st'>'Brtip'</span>,
                   autoWidth <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-842323dec57ab9591dc8" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-842323dec57ab9591dc8">{"x":{"filter":"none","caption":"<caption style=\"caption-side: bottom; &#10;               text-align: left; font-size: 80%; &#10;               color: #969696; font-family: Roboto Condensed;\">Data: wikidata.org.<\/caption>","data":[["10.18288/1994-5124-2015-3-02","10.18288/1994-5124-2015-5-07","10.18288/1994-5124-2015-5-07","10.18288/1994-5124-2015-5-07","10.18288/1994-5124-2016-3-06","10.18288/1994-5124-2016-3-06","10.18288/1994-5124-2016-3-06","10.18288/1994-5124-2016-3-06","10.18288/1994-5124-2016-3-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2017-6-08","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2020-3-134-151","10.18288/1994-5124-2020-3-74-105","10.18288/1994-5124-2020-3-74-105"],["1","1","2","3","1","5","3","3","4","1","1","3","3","2","2","1","1","3","3","2","2","1","1","2","2","3","3","4","4","2","1","3","4","2","1","1","2"],["Kalendzhyan","Kolosnitsyna","Khorkina","Dorzhiev","Scelles","Andreff","Bonnale","Bonnal","Goyeau","Kalendzhyan","Календжян","Gumilevskaya","Гумилевская","Salnikov","Сальников","Kaznacheev","Казначеев","Kjurchiski","Курчиски","Samoilova","Самойлова","Frenkel","Френкель","Sergienko","Сергиенко","Tichomirov","Тихомиров","Roshchina","Рощина","Balyakina","Vymyatnina","Ostapenko","Ryazanov","Grishchenko","Farhadi","Malkina","Ovchinnikov"],["Sergei","Marina","Natalia","Khongor","Nicolas","Wladimir","Liliane","Liliane","Daniel","Sergey","Сергей","Olga","Ольга","Andrey","Андрей","Peter","Петр","Nikola","Никола","Regina","Регина","Alexander","Александр","Yakov","Яков","Boris","Борис","Ludmila","Людмила","Evgeniya","Yulia","Vsevolod","Viktor","Vadim","Zahra","Marina","Vyacheslav"]],"container":"<table class=\"compact striped\">\n  <thead>\n    <tr>\n      <th>doi<\/th>\n      <th>order<\/th>\n      <th>family<\/th>\n      <th>given<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"Brtip","deferRender":true,"ordering":true,"autoWidth":false,"scrollX":true,"searchHighlight":true,"order":[],"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<p>Before we start looking up these names in Wikidata, let me share with you what I learned about a text search in Wikidata.</p>
<h3 id="text-search-in-wikidata">Text Search in Wikidata</h3>
<p>Searching Wikidata items by text is tricky. If you are interested to know more about it, I can recommend you an article <a href="http://ceur-ws.org/Vol-2773/paper-17.pdf">Running a reconciliation service for Wikidata</a> by <a href="https://orcid.org/0000-0002-8612-8827">Antonin Delpeuch</a>, where the author explains the reasons for using separately 2 search APIs:</p>
<ul>
<li><p><a href="https://www.wikidata.org/w/api.php?action=help&amp;modules=wbsearchentities">?action=wbsearchentities</a></p></li>
<li><p><a href="https://www.wikidata.org/w/api.php?action=help&amp;modules=query%2Bsearch">?action=query&amp;list-search</a></p></li>
</ul>
<p>Below is my experience with both.</p>
<h3 id="wikibase-api-wbsearchentities">Wikibase API: wbsearchentities</h3>
<p>This API is cool and simple, but you may be surprized with a variety of results that are totally irrelevant to what you had in mind.</p>
<p>For example, searching for a prominent Soviet physicist <a href="https://en.wikipedia.org/wiki/Sergey_Ivanovich_Vavilov">Sergey Vavilov</a> via wbsearchentities (<a href="https://www.wikidata.org/w/api.php?action=wbsearchentities&amp;search=sergey%20korolev&amp;language=en&amp;format=json">try API query, JSON result</a> produces 2 items for the human beings and 1 for the research institute named after S.I.Vavilov.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/pkg/jsonlite/man/fromJSON.html'>fromJSON</a></span><span class='op'>(</span><span class='st'>"https://www.wikidata.org/w/api.php?action=wbsearchentities&amp;search=sergey%20vavilov&amp;language=en&amp;format=json"</span>, flatten <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>-&gt;</span> <span class='va'>a</span>  

<span class='va'>a</span> <span class='op'>%&gt;%</span> <span class='fu'>pluck</span><span class='op'>(</span><span class='st'>"search"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>select</span><span class='op'>(</span><span class='va'>title</span>, <span class='va'>label</span>, <span class='va'>description</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span>rownames <span class='op'>=</span> <span class='cn'>FALSE</span>, escape <span class='op'>=</span> <span class='cn'>FALSE</span>, class <span class='op'>=</span> <span class='st'>'compact striped'</span>,
               caption <span class='op'>=</span> <span class='fu'>htmltools</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>tags</a></span><span class='op'>$</span><span class='fu'>caption</span><span class='op'>(</span>
               style <span class='op'>=</span> <span class='st'>'caption-side: bottom; 
               text-align: left; font-size: 80%; 
               color: #969696; font-family: Roboto Condensed;'</span>,
               <span class='st'>'Data: wikidata.org.'</span><span class='op'>)</span>,
    options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>searchHighlight <span class='op'>=</span> <span class='cn'>TRUE</span>, dom <span class='op'>=</span> <span class='st'>'Brtip'</span>,
                   autoWidth <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-cff02e20f3354ce7777d" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-cff02e20f3354ce7777d">{"x":{"filter":"none","caption":"<caption style=\"caption-side: bottom; &#10;               text-align: left; font-size: 80%; &#10;               color: #969696; font-family: Roboto Condensed;\">Data: wikidata.org.<\/caption>","data":[["Q324968","Q98948125","Q4201531"],["Sergey Ivanovich Vavilov","Sergey Vavilov","S.I. Vavilov Institute for the History of Science and Technology"],["Russian physicist","researcher","Russian government organization located in Moscow."]],"container":"<table class=\"compact striped\">\n  <thead>\n    <tr>\n      <th>title<\/th>\n      <th>label<\/th>\n      <th>description<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"Brtip","deferRender":true,"ordering":true,"autoWidth":false,"scrollX":true,"searchHighlight":true,"order":[],"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<p>One strategy of making this search more specific is to query the API via SPARQL and apply some filters. For instance, we can limit the results to be only the humans by filtering the items having a property Q5 (human).</p>
<p>A SPARQL request below will return only 2 results, omitting that corresponding to the organization.</p>
<pre><code>SELECT ?person ?personlabel_en ?persondesc_en
   WHERE {hint:Query hint:optimizer &quot;None&quot;.
      SERVICE wikibase:mwapi {
          bd:serviceParam wikibase:endpoint &quot;www.wikidata.org&quot;;
             wikibase:api &quot;EntitySearch&quot;;
              mwapi:search &quot;Sergey Vavilov&quot;; 
              mwapi:language &quot;en&quot;.
          ?person wikibase:apiOutputItem mwapi:item.
      }
      FILTER BOUND (?person)       
        ?person wdt:P31/wdt:P279* wd:Q5.
      optional{?person rdfs:label ?personlabel_en . FILTER(lang(?personlabel_en)=&#39;en&#39;)}
      optional{?person schema:description ?persondesc_en . FILTER(lang(?persondesc_en)=&#39;en&#39;)}
      SERVICE wikibase:label {bd:serviceParam wikibase:language &quot;en&quot;.}
}</code></pre>
<p><a href="https://query.wikidata.org/#SELECT%20%3Fperson%20%3Fpersonlabel_en%20%3Fpersondesc_en%0A%20%20%20WHERE%20%7Bhint%3AQuery%20hint%3Aoptimizer%20%22None%22.%0A%20%20%20%20%20%20SERVICE%20wikibase%3Amwapi%20%7B%0A%20%20%20%20%20%20%20%20%20%20bd%3AserviceParam%20wikibase%3Aendpoint%20%22www.wikidata.org%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20wikibase%3Aapi%20%22EntitySearch%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20mwapi%3Asearch%20%22Sergey%20Vavilov%22%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20mwapi%3Alanguage%20%22en%22.%0A%20%20%20%20%20%20%20%20%20%20%3Fperson%20wikibase%3AapiOutputItem%20mwapi%3Aitem.%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20FILTER%20BOUND%20%28%3Fperson%29%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Fperson%20wdt%3AP31%2Fwdt%3AP279%2a%20wd%3AQ5.%0A%20%20%20%20%20%20optional%7B%3Fperson%20rdfs%3Alabel%20%3Fpersonlabel_en%20.%20FILTER%28lang%28%3Fpersonlabel_en%29%3D%27en%27%29%7D%0A%20%20%20%20%20%20optional%7B%3Fperson%20schema%3Adescription%20%3Fpersondesc_en%20.%20FILTER%28lang%28%3Fpersondesc_en%29%3D%27en%27%29%7D%0A%20%20%20%20%20%20SERVICE%20wikibase%3Alabel%20%7Bbd%3AserviceParam%20wikibase%3Alanguage%20%22en%22.%7D%0A%7D">Check it!</a></p>
<p>I used this approach in <a href="https://dwayzer.netlify.app/posts/2021-06-15-tagging-the-abstracts-with-wikidata-items/">one of my recent posts about matching the scientific terms to Wikidata items</a>, filtering only those results that are most likely to be the scientific terms.</p>
<p>Querying wbsearchentities API via SPARQL with additional filters provides a lot of flexibility, but… the approach has one serious limitation - the API searches the entity labels or aliases for a perfect match. This can be a problem with the non-English names that often have ambiguous Latin spelling. The name Sergey can also be written as Sergei (or also as Sergej, Serhii, etc). People whose Wikidata item contains Sergei will not be found by a query with Sergey, unless the alternative labels are present in the Wikidata item. Searching for Sergei Vavilov will return only one person. I did not find a way to make a fuzzy search for wbsearchentities API. But the other API allows it.</p>
<h3 id="wikibase-api-querylistsearch">Wikibase API: query&amp;list=search</h3>
<p>The <a href="https://www.wikidata.org/w/api.php?action=help&amp;modules=query%2Bsearch">Help page</a> for this API is minimal, the more detailed information about the available parameters, use of regular expressions, fuzzy search is available at <a href="https://www.mediawiki.org/wiki/Help:CirrusSearch">Cirrus Search</a> page. Be warned, it is a brain-boiling stuff.</p>
<p>This API allows you to do various searches:</p>
<ul>
<li><p><a href="https://www.wikidata.org/w/api.php?action=query&amp;list=search&amp;srsearch=sergey%20vavilov&amp;format=json&amp;srlimit=20">srsearch=Sergey Vavilov</a> (AND) - 14 results</p></li>
<li><p><a href="https://www.wikidata.org/w/api.php?action=query&amp;list=search&amp;srsearch=%22sergey%20vavilov%22&amp;format=json&amp;srlimit=20">srsearch=“Sergey Vavilov”</a> (quoted for strict match) - 5 results</p></li>
<li><p><a href="https://www.wikidata.org/w/api.php?action=query&amp;list=search&amp;srsearch=serge?%20vavilov&amp;format=json&amp;srlimit=20">srsearch=Serge? Vavilov</a> (for 1-letter variations in the end of the given name) - 31 results</p></li>
<li><p><a href="https://www.wikidata.org/w/api.php?action=query&amp;list=search&amp;srsearch=serg*%20vavilov&amp;format=json&amp;srlimit=20">srsearch=Serg* Vavilov</a> (for zero or any length variations in the end of the given name) - 35 results</p></li>
<li><p><a href="https://www.wikidata.org/w/api.php?action=query&amp;list=search&amp;srsearch=sergey%20vavilov~&amp;format=json&amp;srlimit=20">srsearch=Sergey Vavilov~</a> (for fuzzy search) - 34 results</p></li>
<li><p><a href="https://www.wikidata.org/w/api.php?action=query&amp;list=search&amp;srsearch=%22sergey%20vavilov%22~1&amp;format=json&amp;srlimit=20">srsearch=“Sergey Vavilov”~1</a> (for fuzzy search with no more than 1 word between Sergey and Vavilov) - 8 results</p></li>
<li><p><a href="https://www.wikidata.org/w/api.php?action=query&amp;list=search&amp;srsearch=%22Sergei%20Vavilov%22%20OR%20%22Sergey%20Vavilov%22&amp;format=json&amp;srlimit=20">srsearch=“Sergei Vavilov” OR “Sergey Vavilov”</a> (read the page about <a href="https://www.mediawiki.org/wiki/Help:CirrusSearch/Logical_operators">Logical Operators</a>).</p></li>
</ul>
<p>Let’s see the results of the strict match search:</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/pkg/jsonlite/man/fromJSON.html'>fromJSON</a></span><span class='op'>(</span><span class='st'>"https://www.wikidata.org/w/api.php?action=query&amp;list=search&amp;srsearch=%22sergey%20vavilov%22&amp;format=json&amp;srlimit=20"</span>, flatten <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>-&gt;</span> <span class='va'>a</span>  

<span class='va'>a</span> <span class='op'>%&gt;%</span> <span class='fu'>pluck</span><span class='op'>(</span><span class='st'>"query"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>pluck</span><span class='op'>(</span><span class='st'>"search"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>select</span><span class='op'>(</span><span class='va'>title</span>, <span class='va'>snippet</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span>rownames <span class='op'>=</span> <span class='cn'>FALSE</span>, escape <span class='op'>=</span> <span class='cn'>FALSE</span>, class <span class='op'>=</span> <span class='st'>'compact striped'</span>,
               caption <span class='op'>=</span> <span class='fu'>htmltools</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>tags</a></span><span class='op'>$</span><span class='fu'>caption</span><span class='op'>(</span>
               style <span class='op'>=</span> <span class='st'>'caption-side: bottom; 
               text-align: left; font-size: 80%; 
               color: #969696; font-family: Roboto Condensed;'</span>,
               <span class='st'>'Data: wikidata.org.'</span><span class='op'>)</span>,
    options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>searchHighlight <span class='op'>=</span> <span class='cn'>TRUE</span>, dom <span class='op'>=</span> <span class='st'>'Brtip'</span>,
                   autoWidth <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-a06143e63e1974328850" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-a06143e63e1974328850">{"x":{"filter":"none","caption":"<caption style=\"caption-side: bottom; &#10;               text-align: left; font-size: 80%; &#10;               color: #969696; font-family: Roboto Condensed;\">Data: wikidata.org.<\/caption>","data":[["Q4059130","Q98948125","Q324968","Q4201531","Q58002929"],["Сергей Вавилов (судно)\nAkademik <span class=\"searchmatch\">Sergey<\/span> <span class=\"searchmatch\">Vavilov<\/span>\nاکادمیک سرگئی واویلف\nAkadémik Serguéi Vavílov\nAkademik <span class=\"searchmatch\">Sergey<\/span> <span class=\"searchmatch\">Vavilov<\/span>\nAkadémik Serguéi Vavílov\nschip\nrussisches","<span class=\"searchmatch\">Sergey<\/span> <span class=\"searchmatch\">Vavilov<\/span>\n<span class=\"searchmatch\">Sergey<\/span> <span class=\"searchmatch\">Vavilov<\/span>\nonderzoeker\nForscher\n研究員\nresearcher\nchercheur\ninvestigador\n研究者","Вавилов\nSergeý Ïvanovïç Vavïlov\nSergej Vavilov\nSergey Ivanovich Vavilov\n<span class=\"searchmatch\">Sergey<\/span> <span class=\"searchmatch\">Vavilov<\/span>\nSergej Ivanovitsj Vavilov\nСергей Иванович Вавилов\nSergey Ivanovich Vavilov","I. Vavilov para la Historia de la Ciencia y la Tecnología\ninstitut <span class=\"searchmatch\">Sergey<\/span> <span class=\"searchmatch\">Vavilov<\/span> pour l'histoire des sciences et techniques\nРӀА Ӏаламдовзаран а, техникин","Akademik <span class=\"searchmatch\">Sergey<\/span> <span class=\"searchmatch\">Vavilov<\/span>\nAerosol optical and microphysical properties over the Atlantic Ocean during the 19th cruise of the Research Vessel Akademik <span class=\"searchmatch\">Sergey<\/span> Vavilov"]],"container":"<table class=\"compact striped\">\n  <thead>\n    <tr>\n      <th>title<\/th>\n      <th>snippet<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"Brtip","deferRender":true,"ordering":true,"autoWidth":false,"scrollX":true,"searchHighlight":true,"order":[],"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<p>In addition to 2 persons and 1 organization, these results include also a ship (Q4059130) and a scholarly article (Q4059130).</p>
<p>We can also query this API via SPARQL and filter the results - let’s to do this for more relaxed (Serge\?) query. Mind quoting that a question mark for SPARQL need to be escaped, so in R code this requires more backslashes.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>WikidataQueryServiceR</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/WikidataQueryServiceR/man/query_wikidata.html'>query_wikidata</a></span><span class='op'>(</span>sparql_query <span class='op'>=</span> <span class='st'>'select 
  ?person ?personlabel_en ?persondesc_en
Where {
  SERVICE wikibase:mwapi {
    bd:serviceParam wikibase:api "Search";
                    wikibase:endpoint "www.wikidata.org";
                    mwapi:srsearch "Serge\\\\? Vavilov" .          
    ?person wikibase:apiOutputItem mwapi:title.    
  } 
  FILTER BOUND (?person)       
        ?person wdt:P31/wdt:P279* wd:Q5.
      optional{?person rdfs:label ?personlabel_en . FILTER(lang(?personlabel_en)="en")}
      optional{?person schema:description ?persondesc_en . FILTER(lang(?persondesc_en)="en")}
      SERVICE wikibase:label {bd:serviceParam wikibase:language "en".}
  }'</span>    
  <span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span>rownames <span class='op'>=</span> <span class='cn'>FALSE</span>, escape <span class='op'>=</span> <span class='cn'>FALSE</span>, class <span class='op'>=</span> <span class='st'>'compact striped'</span>,
               caption <span class='op'>=</span> <span class='fu'>htmltools</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>tags</a></span><span class='op'>$</span><span class='fu'>caption</span><span class='op'>(</span>
               style <span class='op'>=</span> <span class='st'>'caption-side: bottom; 
               text-align: left; font-size: 80%; 
               color: #969696; font-family: Roboto Condensed;'</span>,
               <span class='st'>'Data: wikidata.org.'</span><span class='op'>)</span>,
    options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>searchHighlight <span class='op'>=</span> <span class='cn'>TRUE</span>, dom <span class='op'>=</span> <span class='st'>'Brtip'</span>,
                   autoWidth <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-750fae6eb098d79117d1" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-750fae6eb098d79117d1">{"x":{"filter":"none","caption":"<caption style=\"caption-side: bottom; &#10;               text-align: left; font-size: 80%; &#10;               color: #969696; font-family: Roboto Condensed;\">Data: wikidata.org.<\/caption>","data":[["http://www.wikidata.org/entity/Q324968","http://www.wikidata.org/entity/Q91652500","http://www.wikidata.org/entity/Q98948125","http://www.wikidata.org/entity/Q12562032","http://www.wikidata.org/entity/Q19907955"],["Sergey Ivanovich Vavilov","Sergei V Vavilov","Sergey Vavilov",null,null],["Russian physicist","researcher (ORCID 0000-0001-7694-8330)","researcher",null,null]],"container":"<table class=\"compact striped\">\n  <thead>\n    <tr>\n      <th>person<\/th>\n      <th>personlabel_en<\/th>\n      <th>persondesc_en<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"Brtip","deferRender":true,"ordering":true,"autoWidth":false,"scrollX":true,"searchHighlight":true,"order":[],"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<p>This search returns 5 persons, 3 of which we haven’t found 3 with wbsearchentities API. Why? Because two results (Q12562032, Q19907955) do not have labels, aliases, or description in English - but the Wikidata items have the first name (Sergey) and the last name (Vavilov) properties, which is not queried by wbsearchentities API. Another one found only by this API is spelled in Wikidata as Sergei(!) V Vavilov (Q91652500).</p>
<p>The main advantages of using Search API (query&amp;list=search) instead of wbsearchentities API for searching the people are:</p>
<ul>
<li><ol type="1">
<li>the former also covers the first name and last name fields of the Wikidata item</li>
</ol></li>
<li><ol start="2" type="1">
<li>the former API allows some lexical flexibility (fuzzy search and wildcards).</li>
</ol></li>
</ul>
<p>Unfortunately, it is not only the endings that change when the Cyrillic names are transliterated to Latin.</p>
<ul>
<li><p>Aleksei can be not not only Aleksey, but also Alexei and Alexey</p></li>
<li><p>Oksana can be Oxana</p></li>
<li><p>Fedor can be Fyodor</p></li>
<li><p>Julia can be Yulia or Ioulia (<a href="https://www.wikidata.org/wiki/Q59162109">see an example</a>)</p></li>
</ul>
<p>So you can hardly guess where to put the wildcard.</p>
<p>Even being armed with wikibase:api “Search” + wildcards/fuzzy + SPARQL filters, we still have some limitations, having to decide which strategy is the best for searching the researchers in Wikidata by their names!</p>
<h3 id="search-strategies">Search Strategies</h3>
<p>I considered few options:</p>
<ol type="1">
<li><p>to substitute the ending of all given names ? (without further thinking) and ignore the names like Oxana, Aleksei or Fyodor with ambiguous spelling in the middle of the given name. Dismissed this approach.</p></li>
<li><p>to use a built-in option of fuzzy search operator (~). But there are some aspects…described at <a href="https://www.mediawiki.org/wiki/Help:CirrusSearch">CirrusSearch</a>.</p></li>
</ol>
<p>Searching “Oxana~1” covers both Oksana and Oxana (as for a word search suceeded with “~2” means 2 extra added or changed characters). Together with the family name it is processed in different way - tilda tells how many extra words to fit in. Hence, “Oksana~1 Ivanova” and “Oxana~1 Ivanova” produce different results.</p>
<p>Trying to UNION 2 requests (Oxana~1 and Ivanova) in SPARQL is likely to be too “expensive” for most popular names. Same as searching by the family name only and further filtering with regular expressions in SPARQL (<a href="https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples">see some examples here</a>).</p>
<ol start="3" type="1">
<li>to find the Wikidata items corresponding to the given name (with fuzzy search), collect all the relevant name variants (P460: said to be the same as + P2440:transliterations), and use them to generate all possible combinations (family name + given name variant) for wbsearchentities.</li>
</ol>
<p>This strategy may look like a great trick, but dealing with the names in Wikidata is not an easy walk.</p>
<p>First of all, a fuzzy search does not change first 2 letters (<a href="https://www.mediawiki.org/wiki/Help:CirrusSearch#Insource">here</a>), so Yulia~ will never lead to Julia (and vice versa). Same with Fyodor and Fedor. Tilda will not help everyone.</p>
<p>If we try to search a female given name Yulia by wbsearchentities, we will find few Wikidata items (<a href="https://www.wikidata.org/wiki/Q59157060">Yuliya</a> of Ukrainian/Belarussian origin) and (<a href="https://www.wikidata.org/wiki/Q1712302">Yulia</a> of Russian/Bulgarian origin). Their (P460:said to be the same as) forms vary from Giulietta to Uliana. So P460 could be more an extra burden than a solution.</p>
<p>It may seem that the English transliterations (P2440), filtered by Wikimedia language code (P424), could help, but this property is not mandatory and can be missed for some names. Moreover, the property constraints can also be totally different. For <a href="https://www.wikidata.org/wiki/Q1712302">Yulia</a> the transliterations are defined via the following constraints (Wikimedia language code / writing system / determination method), but for <a href="https://www.wikidata.org/wiki/Q2017539">Oksana</a> there is only a determination method. For Yulia the determination method for English transliteration is “romanization of Russian”, but for Oksana this method has many more academic values - “German romanization of Ukrainian (Duden)”, “BGN/PCGN romanization of Russian”, “BGN/PCGN romanization of Ukrainian (1965 system)”, “Ukrainian National System”, “scientific transliteration of Cyrillic”, “ALA-LC romanization”, “modified Library of Congress system”. So using the transliterations can be an option only after most popular “determination method” values are collected (to be used as a filter for English transliteration).</p>
<p>What strategy is optimal? I decided to go with this:</p>
<ul>
<li><p>Step 1. search for a given name in English using wbsearchentities API (e.g. wikibase:api “EntitySearch”; mwapi:search “Oxana”) and filter the items that are instances or subclasses of the given name (Q202444), retrieve all the English aliases and labels.</p></li>
<li><p>Step 2. Generate the unique combinations of found Given names with the Family name.</p></li>
<li><p>Step 3. Search all the combinations via SPARQL (one by one or like … OR …) and filter the human beings (Q5).</p></li>
<li><p>Step 4. Manual check the results.</p></li>
</ul>
<p>Let’s do it with the code.</p>
<h3 id="step-1.-finding-given-names-in-wikidata">Step 1. Finding Given Names in Wikidata</h3>
<p>The code below sets up a function to collect the name variants.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>get_wiki_name_variants</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>given_name</span><span class='op'>)</span><span class='op'>{</span>
  <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>'SELECT DISTINCT ?personlabel_en WHERE {
  SERVICE wikibase:mwapi {
      bd:serviceParam wikibase:endpoint "www.wikidata.org";
        wikibase:api "EntitySearch";
        mwapi:search "'</span>, <span class='va'>given_name</span>, <span class='st'>'"; 
        mwapi:language "en".
      ?item wikibase:apiOutputItem mwapi:item.
  }
    ?item wdt:P31/wdt:P279* wd:Q202444. 
  SERVICE wikibase:label {bd:serviceParam wikibase:language "en".}
  optional {?item rdfs:label|skos:altLabel ?personlabel_en . FILTER(lang(?personlabel_en)="en")}
}'</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'>WikidataQueryServiceR</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/WikidataQueryServiceR/man/query_wikidata.html'>query_wikidata</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'>mutate_at</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"personlabel_en"</span><span class='op'>)</span>, 
              <span class='op'>~</span><span class='fu'>str_squish</span><span class='op'>(</span><span class='fu'>str_replace_all</span><span class='op'>(</span><span class='va'>.x</span>, <span class='st'>"\\([^\\(^\\)]+\\)"</span>, <span class='st'>""</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>distinct</span><span class='op'>(</span><span class='op'>)</span>
<span class='co'># example: get_wiki_name_variants("Aleksei") </span>
<span class='op'>}</span>
</code></pre>
</div>
</details>
</div>
<p>Now we are going to collect all the variants of the given names for our 28 authors (present in 10 articles selected as an example).</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>wiki_given_names_file</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='va'>dir</span>,<span class='st'>"wiki_given_names.RDS"</span><span class='op'>)</span>

<span class='kw'>if</span><span class='op'>(</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/files.html'>file.exists</a></span><span class='op'>(</span><span class='va'>wiki_given_names_file</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
  <span class='va'>wiki_given_names</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/unique.html'>unique</a></span><span class='op'>(</span><span class='va'>zz2</span><span class='op'>$</span><span class='va'>given</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
    <span class='fu'>map_df</span><span class='op'>(</span><span class='op'>~</span><span class='fu'>get_wiki_name_variants</span><span class='op'>(</span><span class='va'>.x</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
            <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='op'>!</span><span class='fu'>str_detect</span><span class='op'>(</span><span class='va'>personlabel_en</span>, 
                              <span class='st'>"[\\p{Letter}--\\p{script=latin}]+"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
            <span class='fu'>mutate</span><span class='op'>(</span>given <span class='op'>=</span> <span class='va'>.x</span><span class='op'>)</span><span class='op'>)</span>

  <span class='fu'>write_rds</span><span class='op'>(</span><span class='va'>wiki_given_names</span>, <span class='va'>wiki_given_names_file</span><span class='op'>)</span>
<span class='op'>}</span> <span class='kw'>else</span> <span class='op'>{</span> 
  <span class='va'>wiki_given_names</span> <span class='op'>&lt;-</span> <span class='fu'>read_rds</span><span class='op'>(</span><span class='va'>wiki_given_names_file</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='va'>wiki_given_names</span> <span class='op'>%&gt;%</span> <span class='fu'>relocate</span><span class='op'>(</span><span class='va'>given</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span>rownames <span class='op'>=</span> <span class='cn'>FALSE</span>, escape <span class='op'>=</span> <span class='cn'>FALSE</span>, class <span class='op'>=</span> <span class='st'>'compact striped'</span>,
               caption <span class='op'>=</span> <span class='fu'>htmltools</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>tags</a></span><span class='op'>$</span><span class='fu'>caption</span><span class='op'>(</span>
               style <span class='op'>=</span> <span class='st'>'caption-side: bottom; 
               text-align: left; font-size: 80%; 
               color: #969696; font-family: Roboto Condensed;'</span>,
               <span class='st'>'Data: wikidata.org.'</span><span class='op'>)</span>,
    options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>searchHighlight <span class='op'>=</span> <span class='cn'>TRUE</span>, dom <span class='op'>=</span> <span class='st'>'Brtip'</span>,
                   autoWidth <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-5c5c5f4ed834f95eca1b" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-5c5c5f4ed834f95eca1b">{"x":{"filter":"none","caption":"<caption style=\"caption-side: bottom; &#10;               text-align: left; font-size: 80%; &#10;               color: #969696; font-family: Roboto Condensed;\">Data: wikidata.org.<\/caption>","data":[["Sergei","Sergei","Marina","Marina","Natalia","Natalia","Natalia","Natalia","Natalia","Natalia","Khongor","Nicolas","Nicolas","Wladimir","Wladimir","Liliane","Liliane","Daniel","Daniel","Daniel","Daniel","Sergey","Sergey","Сергей","Сергей","Сергей","Olga","Olga","Ольга","Ольга","Ольга","Ольга","Ольга","Andrey","Andrey","Andrey","Андрей","Андрей","Андрей","Андрей","Андрей","Андрей","Peter","Peter","Peter","Петр","Петр","Петр","Nikola","Nikola","Nikola","Nikola","Никола","Никола","Regina","Регина","Регина","Alexander","Alexander","Alexander","Alexander","Александр","Александр","Александр","Александр","Александр","Yakov","Yakov","Yakov","Yakov","Яков","Яков","Яков","Boris","Борис","Борис","Борис","Ludmila","Ludmila","Ludmila","Ludmila","Людмила","Людмила","Людмила","Людмила","Evgeniya","Evgeniya","Evgeniya","Yulia","Yulia","Yulia","Yulia","Yulia","Vsevolod","Vsevolod","Vsevolod","Viktor","Viktor","Viktor","Vadim","Zahra","Vyacheslav","Vyacheslav","Vyacheslav"],["Sergei","Sergey","Marina","Marinette","Natalia","Natália","Natàlia","Natalija","Nataliya","Natalía","Khongor","Nicolas","Nicolás","Wladimiro","Wladimir","Liliane","Lilliane","Dániel","Daniel","Danil","Daniël","Sergei","Sergey","Serge","Sergei","Sergey","Olga","Olja","Olga","Olha","Voĺha","Volha","Vol'ha","Andrei","Andrey","Andrej","Andrei","Andrij","Andriy","Andrew","Andrii","Andrej","Peter","Péter","Petar","Petra","Petro","Petrovna","Nikolay","Nikolai","Nikolaus","Nikola","Nikolay","Nikolai","Regina","Regina","Reginar","Alexander","Aleksandr","Sasha","Alexandr","Alexander","Sasha","Alexandr","Aleksandr","Aleksandra","Jacob","Yakov","Jakaŭ","Yakau","Jacob","Jakob","Yakov","Boris","Boris","Borislav","Borys","Lyudmila","Ludmila","Ľudmila","Ludmiła","Lyudmila","Ludmila","Ludmilla","Ljudmila","Evgeniya","Evgenia","Yevgeniya","Yulian","Yulia","Ioulia","I͡ulian","Julian","Vsievolod","Vsevolod","Vsévolod","Viktor","Viktoria","Victor","Vadim","Zahra","Viatcheslav","Vyacheslav","Wjatscheslaw"]],"container":"<table class=\"compact striped\">\n  <thead>\n    <tr>\n      <th>given<\/th>\n      <th>personlabel_en<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"Brtip","deferRender":true,"ordering":true,"autoWidth":false,"scrollX":true,"searchHighlight":true,"order":[],"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<p>Well, a conversion of Marina to Marinette or Alexander to Sasha may be considered as an exaggeration, but for many given names (column “given”) our adding the name variants from Wikidata (column “personlabel_en”) seem to increase the chances to be found.</p>
<p>Wikidata returned many name variants with the special symbols (diacritical marks). I think that it will be no harm if we convert those names into ASCII-form to use only the English letters and unique spellings. For such transformations I use a function stri_trans_general(“Latin-ASCII”) from <a href="https://stringi.gagolewski.com/">stringi</a> package. Even though <a href="https://stringr.tidyverse.org/">stringr</a> provides a lot of str_* substitutions for original stringi functions (optimized for coding in tidyverse style), I am not aware of stringr-based way of doing such a transformation.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>wiki_given_names</span> <span class='op'>&lt;-</span> <span class='va'>wiki_given_names</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>personlabel_en <span class='op'>=</span> <span class='fu'>stringi</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/stringi/man/stri_trans_general.html'>stri_trans_general</a></span><span class='op'>(</span><span class='va'>personlabel_en</span>, <span class='st'>"Latin-ASCII"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>distinct</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<p>This transformation decreases a total number of name variants from 104 to 93.</p>
<h3 id="step-2.-building-the-name-combinations">Step 2. Building the Name Combinations</h3>
<p>I merged the found name variants with the family names to form a new column “name variant”, which I am going to use further for finding the persons in Wikidata.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>zz2</span> <span class='op'>&lt;-</span> <span class='va'>zz2</span> <span class='op'>%&gt;%</span> <span class='fu'>left_join</span><span class='op'>(</span><span class='va'>wiki_given_names</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>unite</span><span class='op'>(</span><span class='va'>name_variant</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"personlabel_en"</span>, <span class='st'>"family"</span><span class='op'>)</span>, 
        sep <span class='op'>=</span> <span class='st'>" "</span>, na.rm<span class='op'>=</span><span class='cn'>TRUE</span>, remove <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>relocate</span><span class='op'>(</span><span class='va'>doi</span>, <span class='va'>order</span>, <span class='va'>family</span>, <span class='va'>given</span>, <span class='va'>personlabel_en</span><span class='op'>)</span>
  
<span class='va'>zz2</span> <span class='op'>%&gt;%</span>
  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span>rownames <span class='op'>=</span> <span class='cn'>FALSE</span>, escape <span class='op'>=</span> <span class='cn'>FALSE</span>, class <span class='op'>=</span> <span class='st'>'compact striped'</span>,
               caption <span class='op'>=</span> <span class='fu'>htmltools</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>tags</a></span><span class='op'>$</span><span class='fu'>caption</span><span class='op'>(</span>
               style <span class='op'>=</span> <span class='st'>'caption-side: bottom; 
               text-align: left; font-size: 80%; 
               color: #969696; font-family: Roboto Condensed;'</span>,
               <span class='st'>'Data: wikidata.org.'</span><span class='op'>)</span>,
    options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>searchHighlight <span class='op'>=</span> <span class='cn'>TRUE</span>, dom <span class='op'>=</span> <span class='st'>'Bfrtip'</span>,
                   autoWidth <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-a82526c1a8617210655a" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-a82526c1a8617210655a">{"x":{"filter":"none","caption":"<caption style=\"caption-side: bottom; &#10;               text-align: left; font-size: 80%; &#10;               color: #969696; font-family: Roboto Condensed;\">Data: wikidata.org.<\/caption>","data":[["10.18288/1994-5124-2015-3-02","10.18288/1994-5124-2015-3-02","10.18288/1994-5124-2015-5-07","10.18288/1994-5124-2015-5-07","10.18288/1994-5124-2015-5-07","10.18288/1994-5124-2015-5-07","10.18288/1994-5124-2015-5-07","10.18288/1994-5124-2015-5-07","10.18288/1994-5124-2016-3-06","10.18288/1994-5124-2016-3-06","10.18288/1994-5124-2016-3-06","10.18288/1994-5124-2016-3-06","10.18288/1994-5124-2016-3-06","10.18288/1994-5124-2016-3-06","10.18288/1994-5124-2016-3-06","10.18288/1994-5124-2016-3-06","10.18288/1994-5124-2016-3-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-06","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-09","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2016-5-10","10.18288/1994-5124-2017-6-08","10.18288/1994-5124-2017-6-08","10.18288/1994-5124-2017-6-08","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2018-4-02","10.18288/1994-5124-2020-3-134-151","10.18288/1994-5124-2020-3-74-105","10.18288/1994-5124-2020-3-74-105","10.18288/1994-5124-2020-3-74-105","10.18288/1994-5124-2020-3-74-105","10.18288/1994-5124-2020-3-74-105"],["1","1","1","1","2","2","2","3","1","5","5","3","3","3","3","4","4","1","1","1","1","1","3","3","3","3","3","3","2","2","2","2","2","2","2","2","2","1","1","1","1","1","3","3","3","3","3","3","2","2","2","1","1","1","1","1","1","1","1","1","2","2","2","2","2","2","2","3","3","3","3","4","4","4","4","4","4","2","2","2","1","1","1","1","1","3","3","4","4","4","2","1","1","1","2","2","2"],["Kalendzhyan","Kalendzhyan","Kolosnitsyna","Kolosnitsyna","Khorkina","Khorkina","Khorkina","Dorzhiev","Scelles","Andreff","Andreff","Bonnale","Bonnale","Bonnal","Bonnal","Goyeau","Goyeau","Kalendzhyan","Kalendzhyan","Календжян","Календжян","Календжян","Gumilevskaya","Gumilevskaya","Гумилевская","Гумилевская","Гумилевская","Гумилевская","Salnikov","Salnikov","Salnikov","Сальников","Сальников","Сальников","Сальников","Сальников","Сальников","Kaznacheev","Kaznacheev","Казначеев","Казначеев","Казначеев","Kjurchiski","Kjurchiski","Kjurchiski","Kjurchiski","Курчиски","Курчиски","Samoilova","Самойлова","Самойлова","Frenkel","Frenkel","Frenkel","Frenkel","Френкель","Френкель","Френкель","Френкель","Френкель","Sergienko","Sergienko","Sergienko","Sergienko","Сергиенко","Сергиенко","Сергиенко","Tichomirov","Тихомиров","Тихомиров","Тихомиров","Roshchina","Roshchina","Рощина","Рощина","Рощина","Рощина","Balyakina","Balyakina","Balyakina","Vymyatnina","Vymyatnina","Vymyatnina","Vymyatnina","Vymyatnina","Ostapenko","Ostapenko","Ryazanov","Ryazanov","Ryazanov","Grishchenko","Farhadi","Malkina","Malkina","Ovchinnikov","Ovchinnikov","Ovchinnikov"],["Sergei","Sergei","Marina","Marina","Natalia","Natalia","Natalia","Khongor","Nicolas","Wladimir","Wladimir","Liliane","Liliane","Liliane","Liliane","Daniel","Daniel","Sergey","Sergey","Сергей","Сергей","Сергей","Olga","Olga","Ольга","Ольга","Ольга","Ольга","Andrey","Andrey","Andrey","Андрей","Андрей","Андрей","Андрей","Андрей","Андрей","Peter","Peter","Петр","Петр","Петр","Nikola","Nikola","Nikola","Nikola","Никола","Никола","Regina","Регина","Регина","Alexander","Alexander","Alexander","Alexander","Александр","Александр","Александр","Александр","Александр","Yakov","Yakov","Yakov","Yakov","Яков","Яков","Яков","Boris","Борис","Борис","Борис","Ludmila","Ludmila","Людмила","Людмила","Людмила","Людмила","Evgeniya","Evgeniya","Evgeniya","Yulia","Yulia","Yulia","Yulia","Yulia","Vsevolod","Vsevolod","Viktor","Viktor","Viktor","Vadim","Zahra","Marina","Marina","Vyacheslav","Vyacheslav","Vyacheslav"],["Sergei","Sergey","Marina","Marinette","Natalia","Natalija","Nataliya","Khongor","Nicolas","Wladimiro","Wladimir","Liliane","Lilliane","Liliane","Lilliane","Daniel","Danil","Sergei","Sergey","Serge","Sergei","Sergey","Olga","Olja","Olga","Olha","Volha","Vol'ha","Andrei","Andrey","Andrej","Andrei","Andrij","Andriy","Andrew","Andrii","Andrej","Peter","Petar","Petra","Petro","Petrovna","Nikolay","Nikolai","Nikolaus","Nikola","Nikolay","Nikolai","Regina","Regina","Reginar","Alexander","Aleksandr","Sasha","Alexandr","Alexander","Sasha","Alexandr","Aleksandr","Aleksandra","Jacob","Yakov","Jakau","Yakau","Jacob","Jakob","Yakov","Boris","Boris","Borislav","Borys","Lyudmila","Ludmila","Lyudmila","Ludmila","Ludmilla","Ljudmila","Evgeniya","Evgenia","Yevgeniya","Yulian","Yulia","Ioulia","Iulian","Julian","Vsievolod","Vsevolod","Viktor","Viktoria","Victor","Vadim","Zahra","Marina","Marinette","Viatcheslav","Vyacheslav","Wjatscheslaw"],["Sergei Kalendzhyan","Sergey Kalendzhyan","Marina Kolosnitsyna","Marinette Kolosnitsyna","Natalia Khorkina","Natalija Khorkina","Nataliya Khorkina","Khongor Dorzhiev","Nicolas Scelles","Wladimiro Andreff","Wladimir Andreff","Liliane Bonnale","Lilliane Bonnale","Liliane Bonnal","Lilliane Bonnal","Daniel Goyeau","Danil Goyeau","Sergei Kalendzhyan","Sergey Kalendzhyan","Serge Календжян","Sergei Календжян","Sergey Календжян","Olga Gumilevskaya","Olja Gumilevskaya","Olga Гумилевская","Olha Гумилевская","Volha Гумилевская","Vol'ha Гумилевская","Andrei Salnikov","Andrey Salnikov","Andrej Salnikov","Andrei Сальников","Andrij Сальников","Andriy Сальников","Andrew Сальников","Andrii Сальников","Andrej Сальников","Peter Kaznacheev","Petar Kaznacheev","Petra Казначеев","Petro Казначеев","Petrovna Казначеев","Nikolay Kjurchiski","Nikolai Kjurchiski","Nikolaus Kjurchiski","Nikola Kjurchiski","Nikolay Курчиски","Nikolai Курчиски","Regina Samoilova","Regina Самойлова","Reginar Самойлова","Alexander Frenkel","Aleksandr Frenkel","Sasha Frenkel","Alexandr Frenkel","Alexander Френкель","Sasha Френкель","Alexandr Френкель","Aleksandr Френкель","Aleksandra Френкель","Jacob Sergienko","Yakov Sergienko","Jakau Sergienko","Yakau Sergienko","Jacob Сергиенко","Jakob Сергиенко","Yakov Сергиенко","Boris Tichomirov","Boris Тихомиров","Borislav Тихомиров","Borys Тихомиров","Lyudmila Roshchina","Ludmila Roshchina","Lyudmila Рощина","Ludmila Рощина","Ludmilla Рощина","Ljudmila Рощина","Evgeniya Balyakina","Evgenia Balyakina","Yevgeniya Balyakina","Yulian Vymyatnina","Yulia Vymyatnina","Ioulia Vymyatnina","Iulian Vymyatnina","Julian Vymyatnina","Vsievolod Ostapenko","Vsevolod Ostapenko","Viktor Ryazanov","Viktoria Ryazanov","Victor Ryazanov","Vadim Grishchenko","Zahra Farhadi","Marina Malkina","Marinette Malkina","Viatcheslav Ovchinnikov","Vyacheslav Ovchinnikov","Wjatscheslaw Ovchinnikov"]],"container":"<table class=\"compact striped\">\n  <thead>\n    <tr>\n      <th>doi<\/th>\n      <th>order<\/th>\n      <th>family<\/th>\n      <th>given<\/th>\n      <th>personlabel_en<\/th>\n      <th>name_variant<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"Bfrtip","deferRender":true,"ordering":true,"autoWidth":false,"scrollX":true,"searchHighlight":true,"order":[],"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<h3 id="step-3.-finding-authors-in-wikidata-by-name">Step 3. Finding authors in Wikidata (by name)</h3>
<p>To find the persons in Wikidata and get the most interesting details we will be using the following function based on a SPARQL request. As R seems to truncate the arguments of 1000+ chars in length, I also made a <a href="https://query.wikidata.org/#SELECT%20%3Fperson%20%3Fpersonlabel_ru%20%3Fpersonlabel_en%0A%20%20%20%20%20%20%20%20%20%20%3Fpersondesc_en%20%3Foccupations%20%3Femployers%20%20%0A%20%20%20%20%20%20%20%20%3Fviaf%20%3Fmagid%20%3Fisni%20%3Flc%20%3Felibrary%20%3Fscopus_id%20%3Freseacher_id%20%3Forcid%20%3Fpublons%0AWITH%20%7B%0A%20%20SELECT%20%3Fperson%20%20%0A%20%20%20%20%20%20%20%20(GROUP_CONCAT(DISTINCT%20%3Foccupation%3B%20SEPARATOR%3D%22%20%7C%20%22)%20AS%20%3Foccupations)%0A%20%20%20%20%20%20%20%20(GROUP_CONCAT(DISTINCT%20%3Femployer%3B%20SEPARATOR%3D%22%20%7C%20%22)%20AS%20%3Femployers)%0A%20%20%20WHERE%20%7B%0A%20%20%20%20hint%3AQuery%20hint%3Aoptimizer%20%22None%22.%0A%20%20%20%20%20%20SERVICE%20wikibase%3Amwapi%20%7B%0A%20%20%20%20%20%20%20%20bd%3AserviceParam%20wikibase%3Aapi%20%22Search%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20wikibase%3Aendpoint%20%22www.wikidata.org%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mwapi%3Asrsearch%20%22%5C%22Valentin%20Parmon%5C%22%20OR%20%5C%22Valentin%20Vlasov%5C%22%22.%0A%20%20%20%20%3Fperson%20wikibase%3AapiOutputItem%20mwapi%3Atitle.%20%20%20%20%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20FILTER%20BOUND%20(%3Fperson)%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Fperson%20wdt%3AP31%20wd%3AQ5.%20%20%0A%20%20%20%20%20%20optional%7B%3Fperson%20wdt%3AP106%20%3Foccup.%7D%0A%20%20%20%20%20%20optional%7B%3Fperson%20wdt%3AP108%20%3Femployer_.%7D%20%0A%20%20%20%20%20%20SERVICE%20wikibase%3Alabel%20%7Bbd%3AserviceParam%20wikibase%3Alanguage%20%22en%22.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Foccup%20rdfs%3Alabel%20%3Foccupation.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Femployer_%20rdfs%3Alabel%20%3Femployer.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20%20%0A%20%20%7D%0A%20%20GROUP%20BY%20%3Fperson%0A%20%20LIMIT%2010%20%20%20%20%20%20%20%20%20%20%20%0A%7D%20AS%20%25result%0AWHERE%20%7B%0A%20%20INCLUDE%20%25result%0A%20%20%20optional%7B%3Fperson%20rdfs%3Alabel%20%3Fpersonlabel_en%20.%20FILTER(lang(%3Fpersonlabel_en)%3D%22en%22)%7D%0A%20%20%20optional%7B%3Fperson%20rdfs%3Alabel%20%3Fpersonlabel_ru%20.%20FILTER(lang(%3Fpersonlabel_ru)%3D%22ru%22)%7D%0A%20%20%20optional%7B%3Fperson%20schema%3Adescription%20%3Fpersondesc_en%20.%20FILTER(lang(%3Fpersondesc_en)%3D%22en%22)%7D%20%20%0A%20%20%20optional%7B%3Fperson%20wdt%3AP214%20%3Fviaf.%7D%20%20%0A%20%20%20optional%7B%3Fperson%20wdt%3AP244%20%3Flc.%7D%0A%20%20%20%20optional%7B%3Fperson%20wdt%3AP213%20%3Fisni.%7D%0A%20%20%20optional%7B%3Fperson%20wdt%3AP8079%20%3Felibrary.%7D%0A%20%20%20optional%7B%3Fperson%20wdt%3AP6366%20%3Fmagid.%7D%20%20%20%0A%20%20%20%20optional%7B%3Fperson%20wdt%3AP496%20%3Forcid.%7D%20%20%20%0A%20%20%20%20optional%7B%3Fperson%20wdt%3AP3829%20%3Fpublons.%7D%0A%20%20%20%20optional%7B%3Fperson%20wdt%3AP1053%20%3Freseacher_id.%7D%0A%20%20%20%20optional%7B%3Fperson%20wdt%3AP1153%20%3Fscopus_id.%7D%20%20%20%0A%20%7D">separate URL to WDS</a> where you can see a SPARQL query.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>sparql_author_query</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>person_name</span><span class='op'>)</span><span class='op'>{</span>
  <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>'SELECT ?person ?personlabel_ru ?personlabel_en
          ?persondesc_en ?occupations ?employers  
        ?viaf ?magid ?isni ?lc ?elibrary ?scopus_id ?reseacher_id ?orcid ?publons
WITH {
  SELECT ?person  
        (GROUP_CONCAT(DISTINCT ?occupation; SEPARATOR=" | ") AS ?occupations)
        (GROUP_CONCAT(DISTINCT ?employer; SEPARATOR=" | ") AS ?employers)
   WHERE {
    hint:Query hint:optimizer "None".
      SERVICE wikibase:mwapi {
        bd:serviceParam wikibase:api "Search";
                        wikibase:endpoint "www.wikidata.org";
                        mwapi:srsearch "'</span>, <span class='va'>person_name</span>, <span class='st'>[1163 chars quoted with ''']</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'>WikidataQueryServiceR</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/WikidataQueryServiceR/man/query_wikidata.html'>query_wikidata</a></span><span class='op'>(</span><span class='op'>)</span> 
<span class='op'>}</span>
</code></pre>
</div>
</details>
</div>
<p>This function accepts the person name, quoted or unquoted, and can also process the name variants separated by OR (like in example below designed to find the Wikidata profiles of 2 prominent Russian scientists from Novosibirsk).</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>sparql_author_query</span><span class='op'>(</span><span class='st'>"\\\"Valentin Parmon\\\" OR \\\"Valentin Vlasov\\\""</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span>rownames <span class='op'>=</span> <span class='cn'>FALSE</span>, escape <span class='op'>=</span> <span class='cn'>FALSE</span>, class <span class='op'>=</span> <span class='st'>'compact striped'</span>,
               caption <span class='op'>=</span> <span class='fu'>htmltools</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>tags</a></span><span class='op'>$</span><span class='fu'>caption</span><span class='op'>(</span>
               style <span class='op'>=</span> <span class='st'>'caption-side: bottom; 
               text-align: left; font-size: 80%; 
               color: #969696; font-family: Roboto Condensed;'</span>,
               <span class='st'>'Data: wikidata.org.'</span><span class='op'>)</span>,
    options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>searchHighlight <span class='op'>=</span> <span class='cn'>TRUE</span>, dom <span class='op'>=</span> <span class='st'>'Brtip'</span>,
                   autoWidth <span class='op'>=</span> <span class='cn'>TRUE</span>, 
                columnDefs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
                  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>width <span class='op'>=</span> <span class='st'>'350px'</span>, targets <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>5</span><span class='op'>)</span><span class='op'>)</span>,
                   <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>width <span class='op'>=</span> <span class='st'>'170px'</span>, targets <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>3</span>,<span class='fl'>13</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
                  <span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-73c87a807d2645ee5dfe" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-73c87a807d2645ee5dfe">{"x":{"filter":"none","caption":"<caption style=\"caption-side: bottom; &#10;               text-align: left; font-size: 80%; &#10;               color: #969696; font-family: Roboto Condensed;\">Data: wikidata.org.<\/caption>","data":[["http://www.wikidata.org/entity/Q4113462","http://www.wikidata.org/entity/Q4113464","http://www.wikidata.org/entity/Q4113465","http://www.wikidata.org/entity/Q4345609"],["Власов, Валентин Александрович","Власов, Валентин Викторович","Власов, Валентин Степанович","Пармон, Валентин Николаевич"],["Valentin Vlasov","Valentin V. Vlassov","Valentin Vlasov","Valentin Parmon"],["Russian Soviet government official","researcher","Russian diplomat","Russian chemist"],[null,"chemist | researcher","diplomat","chemist"],[null,"Novosibirsk State University | Institute of Chemical Biology and Fundamental Medicine",null,"Semenov Institute of Chemical Physics"],[null,6.41446484210424e+19,300056186,57935609],[null,null,null,null],[null,null,null,null],[null,null,null,"n81060577"],[null,45732,null,null],[null,7103071421,null,null],[null,"F-4720-2013",null,"E-8639-2012"],[null,"0000-0003-2845-2992",null,"0000-0002-8877-7388"],[null,2642177,null,2727099]],"container":"<table class=\"compact striped\">\n  <thead>\n    <tr>\n      <th>person<\/th>\n      <th>personlabel_ru<\/th>\n      <th>personlabel_en<\/th>\n      <th>persondesc_en<\/th>\n      <th>occupations<\/th>\n      <th>employers<\/th>\n      <th>viaf<\/th>\n      <th>magid<\/th>\n      <th>isni<\/th>\n      <th>lc<\/th>\n      <th>elibrary<\/th>\n      <th>scopus_id<\/th>\n      <th>reseacher_id<\/th>\n      <th>orcid<\/th>\n      <th>publons<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"Brtip","deferRender":true,"ordering":true,"autoWidth":true,"scrollX":true,"searchHighlight":true,"columnDefs":[{"width":"350px","targets":5},{"width":"170px","targets":[1,3,13]},{"className":"dt-right","targets":[6,10,11,14]}],"order":[],"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<p>By adding the name variants we increase 3.5 times a number of requests required to find the Wikidata items for 28 authors (97 name variants). Therefore, I am going to use … OR … syntax to reduce a number of queries back to 28.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>## grouping the name variants into ... OR ... strings</span>
<span class='va'>zz2grouped</span> <span class='op'>&lt;-</span> <span class='va'>zz2</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>name_variant <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>'\\\"'</span>,<span class='va'>name_variant</span>,<span class='st'>'\\\"'</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>doi</span>, <span class='va'>order</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>summarize</span><span class='op'>(</span>name_variants <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='va'>name_variant</span>, collapse <span class='op'>=</span> <span class='st'>" OR "</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ungroup</span><span class='op'>(</span><span class='op'>)</span>

<span class='va'>wiki_persons_file</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='va'>dir</span>,<span class='st'>"wiki_persons.RDS"</span><span class='op'>)</span>

<span class='kw'>if</span><span class='op'>(</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/files.html'>file.exists</a></span><span class='op'>(</span><span class='va'>wiki_persons_file</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
  <span class='va'>wiki_persons</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/unique.html'>unique</a></span><span class='op'>(</span><span class='va'>zz2grouped</span><span class='op'>$</span><span class='va'>name_variants</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
    <span class='fu'>map_df</span><span class='op'>(</span><span class='op'>~</span><span class='fu'>sparql_author_query</span><span class='op'>(</span><span class='va'>.x</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
             <span class='co'>## as some identifiers can be returned as characters &amp; double</span>
             <span class='fu'>mutate_all</span><span class='op'>(</span><span class='op'>~</span><span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='va'>.x</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
             <span class='fu'>mutate</span><span class='op'>(</span>name_variants <span class='op'>=</span> <span class='va'>.x</span><span class='op'>)</span><span class='op'>)</span>

  <span class='fu'>write_rds</span><span class='op'>(</span><span class='va'>wiki_persons</span>, <span class='va'>wiki_persons_file</span><span class='op'>)</span>
<span class='op'>}</span> <span class='kw'>else</span> <span class='op'>{</span> 
  <span class='va'>wiki_persons</span> <span class='op'>&lt;-</span> <span class='fu'>read_rds</span><span class='op'>(</span><span class='va'>wiki_persons_file</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='va'>wiki_persons</span> <span class='op'>%&gt;%</span>  
  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span>rownames <span class='op'>=</span> <span class='cn'>FALSE</span>, escape <span class='op'>=</span> <span class='cn'>FALSE</span>, class <span class='op'>=</span> <span class='st'>'compact striped'</span>,
               caption <span class='op'>=</span> <span class='fu'>htmltools</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>tags</a></span><span class='op'>$</span><span class='fu'>caption</span><span class='op'>(</span>
               style <span class='op'>=</span> <span class='st'>'caption-side: bottom; 
               text-align: left; font-size: 80%; 
               color: #969696; font-family: Roboto Condensed;'</span>,
               <span class='st'>'Data: wikidata.org.'</span><span class='op'>)</span>,
    options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>searchHighlight <span class='op'>=</span> <span class='cn'>TRUE</span>, dom <span class='op'>=</span> <span class='st'>'Brtip'</span>, autoWidth <span class='op'>=</span> <span class='cn'>TRUE</span>, 
                columnDefs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
                  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>width <span class='op'>=</span> <span class='st'>'350px'</span>, targets <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span>, <span class='fl'>5</span><span class='op'>)</span><span class='op'>)</span>,
                   <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>width <span class='op'>=</span> <span class='st'>'450px'</span>, targets <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>15</span><span class='op'>)</span><span class='op'>)</span>,
                   <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>width <span class='op'>=</span> <span class='st'>'170px'</span>, targets <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>8</span>, <span class='fl'>13</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
                  <span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-590d79296b16d3a1c7b9" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-590d79296b16d3a1c7b9">{"x":{"filter":"none","caption":"<caption style=\"caption-side: bottom; &#10;               text-align: left; font-size: 80%; &#10;               color: #969696; font-family: Roboto Condensed;\">Data: wikidata.org.<\/caption>","data":[["http://www.wikidata.org/entity/Q4209279","http://www.wikidata.org/entity/Q93427896","http://www.wikidata.org/entity/Q4209279","http://www.wikidata.org/entity/Q4406179","http://www.wikidata.org/entity/Q97976129","http://www.wikidata.org/entity/Q78014","http://www.wikidata.org/entity/Q102180079","http://www.wikidata.org/entity/Q85865704","http://www.wikidata.org/entity/Q1357516","http://www.wikidata.org/entity/Q4330921","http://www.wikidata.org/entity/Q66363343"],["Календжян, Сергей Оганович",null,"Календжян, Сергей Оганович","Сальников, Андрей Владимирович","Казначеев, Пётр Феликсович",null,null,"Рязанов, Виктор Тимофеевич","Вячеслав Александрович Овчинников","Овчинников, Вячеслав Владимирович","Вячеслав Иванович Овчинников"],["Sergey Kalendzhyan","Wladimir Andreff","Sergey Kalendzhyan","Andrei Salnikov","Peter Kaznacheev","Alexander Frenkel","Alexander Frenkel","Viktor Ryazanov","Vyacheslav Ovchinnikov","Vecheslav Ovchinnikov","Vyacheslav Ovchinnikov"],["Russian economist",null,"Russian economist","Russian footballer",null,"German boxer","Ph.D. Bogolyubov Institute for Theoretical Physics of the National Academy of Sciences of Ukraine and Budker Institute for Nuclear Physics, Russian Academy of Sciences and Institute for Solar-Terrestrial Physics, Russian Academy of Sciences 1976","Soviet and Russian economist","Soviet and Russian composer, conductor","Russian artist (1932-1993)","Russian painter"],["economist",null,"economist","association football player","economist","boxer",null,null,"composer | conductor | film score composer","painter","painter"],[null,null,null,null,"Roland Berger | BP | King's College London | Russian Presidential Academy of National Economy and Public Administration",null,null,null,null,null,null],[null,"36913749",null,null,null,null,null,null,"30863232",null,null],[null,null,null,null,null,null,null,null,null,null,null],[null,"0000 0003 7429 6871",null,null,null,null,null,null,"0000 0001 2277 9535",null,null],[null,"n82102992",null,null,null,null,null,null,"n81085742",null,null],[null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null],["\\\"Sergei Kalendzhyan\\\" OR \\\"Sergey Kalendzhyan\\\"","\\\"Wladimiro Andreff\\\" OR \\\"Wladimir Andreff\\\"","\\\"Sergei Kalendzhyan\\\" OR \\\"Sergey Kalendzhyan\\\" OR \\\"Serge Календжян\\\" OR \\\"Sergei Календжян\\\" OR \\\"Sergey Календжян\\\"","\\\"Andrei Salnikov\\\" OR \\\"Andrey Salnikov\\\" OR \\\"Andrej Salnikov\\\" OR \\\"Andrei Сальников\\\" OR \\\"Andrij Сальников\\\" OR \\\"Andriy Сальников\\\" OR \\\"Andrew Сальников\\\" OR \\\"Andrii Сальников\\\" OR \\\"Andrej Сальников\\\"","\\\"Peter Kaznacheev\\\" OR \\\"Petar Kaznacheev\\\" OR \\\"Petra Казначеев\\\" OR \\\"Petro Казначеев\\\" OR \\\"Petrovna Казначеев\\\"","\\\"Alexander Frenkel\\\" OR \\\"Aleksandr Frenkel\\\" OR \\\"Sasha Frenkel\\\" OR \\\"Alexandr Frenkel\\\" OR \\\"Alexander Френкель\\\" OR \\\"Sasha Френкель\\\" OR \\\"Alexandr Френкель\\\" OR \\\"Aleksandr Френкель\\\" OR \\\"Aleksandra Френкель\\\"","\\\"Alexander Frenkel\\\" OR \\\"Aleksandr Frenkel\\\" OR \\\"Sasha Frenkel\\\" OR \\\"Alexandr Frenkel\\\" OR \\\"Alexander Френкель\\\" OR \\\"Sasha Френкель\\\" OR \\\"Alexandr Френкель\\\" OR \\\"Aleksandr Френкель\\\" OR \\\"Aleksandra Френкель\\\"","\\\"Viktor Ryazanov\\\" OR \\\"Viktoria Ryazanov\\\" OR \\\"Victor Ryazanov\\\"","\\\"Viatcheslav Ovchinnikov\\\" OR \\\"Vyacheslav Ovchinnikov\\\" OR \\\"Wjatscheslaw Ovchinnikov\\\"","\\\"Viatcheslav Ovchinnikov\\\" OR \\\"Vyacheslav Ovchinnikov\\\" OR \\\"Wjatscheslaw Ovchinnikov\\\"","\\\"Viatcheslav Ovchinnikov\\\" OR \\\"Vyacheslav Ovchinnikov\\\" OR \\\"Wjatscheslaw Ovchinnikov\\\""]],"container":"<table class=\"compact striped\">\n  <thead>\n    <tr>\n      <th>person<\/th>\n      <th>personlabel_ru<\/th>\n      <th>personlabel_en<\/th>\n      <th>persondesc_en<\/th>\n      <th>occupations<\/th>\n      <th>employers<\/th>\n      <th>viaf<\/th>\n      <th>magid<\/th>\n      <th>isni<\/th>\n      <th>lc<\/th>\n      <th>elibrary<\/th>\n      <th>scopus_id<\/th>\n      <th>reseacher_id<\/th>\n      <th>orcid<\/th>\n      <th>publons<\/th>\n      <th>name_variants<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"Brtip","deferRender":true,"ordering":true,"autoWidth":true,"scrollX":true,"searchHighlight":true,"columnDefs":[{"width":"350px","targets":[3,5]},{"width":"450px","targets":15},{"width":"170px","targets":[1,8,13]}],"order":[],"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<p>We have found 11 persons, of which 4 are the right persons (Wladimir Andreff, Peter Kaznacheev, Viktor Ryazanov, and twice Sergey Kalendzhyan). This I decided by manually checking the suggested variants (Step 4). It was helpful, of course, that 3 of 4 are also marked as economists in the “description” or “occupations” columns. By the way, Sergey Kalendzhyan in the original articles was spelled both as Sergei and Sergey, but due to step 1 (when we added all known name variants), we have found Sergey Kalendzhyan’s Wikidata profile in both cases.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>wd_authors_by_names_file</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='va'>dir</span>, <span class='st'>"wd_authors_by_names.csv"</span><span class='op'>)</span>
<span class='va'>right_ones</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Wladimir Andreff"</span>, <span class='st'>"Peter Kaznacheev"</span>, 
                <span class='st'>"Viktor Ryazanov"</span>, <span class='st'>"Sergey Kalendzhyan"</span><span class='op'>)</span>
<span class='va'>wiki_persons</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>personlabel_en</span> <span class='op'>%in%</span> <span class='va'>right_ones</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>left_join</span><span class='op'>(</span><span class='va'>zz2grouped</span>, <span class='va'>.</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>write_excel_csv</span><span class='op'>(</span><span class='va'>wd_authors_by_names_file</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<p>Now we are ready for a final step!</p>
<h3 id="uploading-the-author-info-into-wikidata">Uploading the Author Info into Wikidata</h3>
<p>This is what we have had by the end of our journey.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>data_wd</span>  <span class='op'>&lt;-</span> <span class='fu'>bind_rows</span><span class='op'>(</span>
  <span class='fu'>read_csv</span><span class='op'>(</span><span class='va'>wd_authors_by_ids_file</span>, 
           col_types <span class='op'>=</span> <span class='fu'>cols</span><span class='op'>(</span>.default <span class='op'>=</span> <span class='fu'>col_character</span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'>select</span><span class='op'>(</span><span class='fu'>any_of</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"doi"</span>, <span class='st'>"order"</span>, <span class='st'>"wikidata"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>,
  <span class='fu'>read_csv</span><span class='op'>(</span><span class='va'>wd_authors_by_names_file</span>, 
           col_types <span class='op'>=</span> <span class='fu'>cols</span><span class='op'>(</span>.default <span class='op'>=</span> <span class='fu'>col_character</span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span><span class='op'>%&gt;%</span> 
    <span class='fu'>mutate</span><span class='op'>(</span>wikidata <span class='op'>=</span> <span class='fu'>str_extract</span><span class='op'>(</span><span class='va'>person</span>, <span class='st'>"Q\\d+$"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'>select</span><span class='op'>(</span><span class='fu'>any_of</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"doi"</span>, <span class='st'>"order"</span>, <span class='st'>"wikidata"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
  <span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>wikidata</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'>rename</span><span class='op'>(</span>wd_author <span class='op'>=</span> <span class='va'>wikidata</span><span class='op'>)</span>
  
<span class='va'>data4wiki</span> <span class='op'>&lt;-</span> <span class='va'>final_data_checked</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>left_join</span><span class='op'>(</span><span class='va'>dois</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>left_join</span><span class='op'>(</span><span class='va'>data_wd</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>left_join</span><span class='op'>(</span><span class='va'>wd_pub_existing_data</span> <span class='op'>%&gt;%</span> 
              <span class='fu'>select</span><span class='op'>(</span>wikidata <span class='op'>=</span> <span class='va'>qid</span>, <span class='va'>order</span>, current_author <span class='op'>=</span> <span class='va'>author_wiki</span>, 
                     current_statement <span class='op'>=</span> <span class='va'>author_wiki_type</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>unite</span><span class='op'>(</span><span class='st'>"author_string"</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"CRF given"</span>, <span class='st'>"CRF family"</span><span class='op'>)</span>, sep <span class='op'>=</span> <span class='st'>" "</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>author_string <span class='op'>=</span> <span class='fu'>str_to_title</span><span class='op'>(</span><span class='va'>author_string</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>author_statement <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>wd_author</span><span class='op'>)</span>, <span class='st'>"P2093"</span>, <span class='st'>"P50"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>  
  <span class='fu'>select</span><span class='op'>(</span>article_wiki <span class='op'>=</span> <span class='va'>wikidata</span>, <span class='va'>order</span>,
         <span class='va'>current_author</span>, <span class='va'>current_statement</span>, 
         <span class='va'>author_statement</span>, author_wiki <span class='op'>=</span> <span class='va'>wd_author</span>, <span class='va'>author_string</span><span class='op'>)</span> 

<span class='va'>data4wiki</span> <span class='op'>%&gt;%</span>  
  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span>rownames <span class='op'>=</span> <span class='cn'>FALSE</span>, escape <span class='op'>=</span> <span class='cn'>FALSE</span>, class <span class='op'>=</span> <span class='st'>'compact striped'</span>,
               caption <span class='op'>=</span> <span class='fu'>htmltools</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>tags</a></span><span class='op'>$</span><span class='fu'>caption</span><span class='op'>(</span>
               style <span class='op'>=</span> <span class='st'>'caption-side: bottom; 
               text-align: left; font-size: 80%; 
               color: #969696; font-family: Roboto Condensed;'</span>,
               <span class='st'>'Data: wikidata.org.'</span><span class='op'>)</span>,
    options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>searchHighlight <span class='op'>=</span> <span class='cn'>TRUE</span>, dom <span class='op'>=</span> <span class='st'>'Brtip'</span>, autoWidth <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-d63e26993dfc915b30b3" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-d63e26993dfc915b30b3">{"x":{"filter":"none","caption":"<caption style=\"caption-side: bottom; &#10;               text-align: left; font-size: 80%; &#10;               color: #969696; font-family: Roboto Condensed;\">Data: wikidata.org.<\/caption>","data":[["Q107266290","Q107266316","Q107266316","Q107266316","Q107266359","Q107266359","Q107266359","Q107266359","Q107266380","Q107266380","Q107266380","Q107266383","Q107266383","Q107266383","Q107266385","Q107266385","Q107266385","Q107266385","Q107266109","Q107265425","Q107265425","Q107265425","Q107265425","Q107266168","Q107266168","Q107266168","Q107266173","Q107266173"],["1","1","2","3","1","5","3","4","1","3","2","1","3","2","1","2","3","4","2","1","3","4","2","1","1","1","1","2"],["Kalendzhyan S.O.","Kolosnitsyna M.G.","Khorkina N.","Dorzhiev K.","Nicolas Scelles","Q93427896","Bonnal L.","Goyeau D.","Kalendzhyan S.O.","Gumilevskaya O.V.","Salnikov A.A.","Kaznacheev P.F.","Kjurchiski N.V.","Samoilova R.V.","Frenkel A.A.","Sergienko Y.V.","Tichomirov B.V.","Roshchina L.S.","Balyakina E.A.","Vymyatnina Y.V.","Ostapenko V.M.","Ryazanov V.T.","Grishchenko V.O.","Farhadi Z.","Farhadi Z.","Farhadi Z.","Malkina M.Y.","Ovchinnikov V.N."],["P2093","P2093","P2093","P2093","P2093","P50","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093"],["P50","P2093","P2093","P2093","P2093","P50","P2093","P2093","P50","P2093","P2093","P50","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P2093","P50","P2093","P2093","P2093","P2093","P2093","P2093"],["Q4209279",null,null,null,null,"Q93427896",null,null,"Q4209279",null,null,"Q97976129",null,null,null,null,null,null,null,null,null,"Q85865704",null,null,null,null,null,null],["Sergei Kalendzhyan","Marina Kolosnitsyna","Natalia Khorkina","Khongor Dorzhiev","Nicolas Scelles","Wladimir Andreff","Liliane Bonnale","Daniel Goyeau","Sergey O. Kalendzhyan","Olga V. Gumilevskaya","Andrey A. Salnikov","Peter F. Kaznacheev","Nikola V. Kjurchiski","Regina V. Samoilova","Alexander A. Frenkel","Yakov I. Sergienko","Boris V. Tichomirov","Ludmila S. Roshchina","Evgeniya Balyakina","Yulia V. Vymyatnina","Vsevolod M. Ostapenko","Viktor T. Ryazanov","Vadim O. Grishchenko","Zahra Farhadi","Zahra Farhadi","Zahra Farhadi","Marina Malkina","Vyacheslav Ovchinnikov"]],"container":"<table class=\"compact striped\">\n  <thead>\n    <tr>\n      <th>article_wiki<\/th>\n      <th>order<\/th>\n      <th>current_author<\/th>\n      <th>current_statement<\/th>\n      <th>author_statement<\/th>\n      <th>author_wiki<\/th>\n      <th>author_string<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"Brtip","deferRender":true,"ordering":true,"autoWidth":true,"scrollX":true,"searchHighlight":true,"order":[],"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<p>We know the wikidata items, corresponding to the articles (column “article_wiki”), and how the authors are currently present in Wikidata (see the columns “current_author” and “current_statement”). The “current_author” strings have only the initials, so we can improve it by substituting with the authorname strings from CrossRef (P2093 property for the statement). For the authors with Wikidata items (4 authors with non-empty values in the author_wiki column) we will introduce the P50 statements (connecting the Wikidata items for article and person).</p>
<p>In both cases we should also not to forget to delete the existing statements (see below the example of statements).</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>wd_statements</span> <span class='op'>&lt;-</span>  <span class='va'>data4wiki</span> <span class='op'>%&gt;%</span> <span class='fu'>rowwise</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>statement <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>author_wiki</span><span class='op'>)</span>,
           <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"-"</span>,<span class='va'>article_wiki</span>,<span class='st'>"|"</span>, <span class='va'>current_statement</span>,<span class='st'>"|\""</span>, 
                  <span class='va'>current_author</span>,<span class='st'>"\"||"</span>,
                  <span class='va'>article_wiki</span>,<span class='st'>"|P50|"</span>,<span class='va'>author_wiki</span>,<span class='st'>"|P1545|\""</span>, 
                  <span class='va'>order</span>,<span class='st'>"\"|S248|Q5188229"</span><span class='op'>)</span>, 
           <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"-"</span>,<span class='va'>article_wiki</span>,<span class='st'>"|"</span>, <span class='va'>current_statement</span>,<span class='st'>"|\""</span>, 
                  <span class='va'>current_author</span>,<span class='st'>"\"||"</span>,
                  <span class='va'>article_wiki</span>,<span class='st'>"|P2093|\""</span>,<span class='va'>author_string</span>, <span class='st'>"\"|P1545|\""</span>, 
                  <span class='va'>order</span>,<span class='st'>"\"|S248|Q5188229"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>select</span><span class='op'>(</span><span class='va'>statement</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>statement <span class='op'>=</span> <span class='fu'>str_split</span><span class='op'>(</span><span class='va'>statement</span>, <span class='st'>"\\|\\|"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>unnest</span><span class='op'>(</span><span class='va'>statement</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/base/unlist.html'>unlist</a></span><span class='op'>(</span>use.names <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> 

<span class='va'>wd_statements</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='va'>.</span>, collapse <span class='op'>=</span> <span class='st'>"\n"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>write_file</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='va'>dir</span>, <span class='st'>"for qs_auths.tsv"</span><span class='op'>)</span><span class='op'>)</span>  
  
<span class='va'>wd_statements</span> <span class='op'>%&gt;%</span> <span class='fu'>enframe</span><span class='op'>(</span>name <span class='op'>=</span> <span class='cn'>NULL</span>, value <span class='op'>=</span> <span class='st'>"wikidata_statements"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
   <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span>rownames <span class='op'>=</span> <span class='cn'>FALSE</span>, escape <span class='op'>=</span> <span class='cn'>FALSE</span>, class <span class='op'>=</span> <span class='st'>'compact striped'</span>,
               caption <span class='op'>=</span> <span class='fu'>htmltools</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>tags</a></span><span class='op'>$</span><span class='fu'>caption</span><span class='op'>(</span>
               style <span class='op'>=</span> <span class='st'>'caption-side: bottom; 
               text-align: left; font-size: 80%; 
               color: #969696; font-family: Roboto Condensed;'</span>,
               <span class='st'>'Data: wikidata.org.'</span><span class='op'>)</span>,
    options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>searchHighlight <span class='op'>=</span> <span class='cn'>TRUE</span>, dom <span class='op'>=</span> <span class='st'>'Brtip'</span>, autoWidth <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-421d8b9eb8c51ca1561c" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-421d8b9eb8c51ca1561c">{"x":{"filter":"none","caption":"<caption style=\"caption-side: bottom; &#10;               text-align: left; font-size: 80%; &#10;               color: #969696; font-family: Roboto Condensed;\">Data: wikidata.org.<\/caption>","data":[["-Q107266290|P2093|\"Kalendzhyan S.O.\"","Q107266290|P50|Q4209279|P1545|\"1\"|S248|Q5188229","-Q107266316|P2093|\"Kolosnitsyna M.G.\"","Q107266316|P2093|\"Marina Kolosnitsyna\"|P1545|\"1\"|S248|Q5188229","-Q107266316|P2093|\"Khorkina N.\"","Q107266316|P2093|\"Natalia Khorkina\"|P1545|\"2\"|S248|Q5188229","-Q107266316|P2093|\"Dorzhiev K.\"","Q107266316|P2093|\"Khongor Dorzhiev\"|P1545|\"3\"|S248|Q5188229","-Q107266359|P2093|\"Nicolas Scelles\"","Q107266359|P2093|\"Nicolas Scelles\"|P1545|\"1\"|S248|Q5188229","-Q107266359|P50|\"Q93427896\"","Q107266359|P50|Q93427896|P1545|\"5\"|S248|Q5188229","-Q107266359|P2093|\"Bonnal L.\"","Q107266359|P2093|\"Liliane Bonnale\"|P1545|\"3\"|S248|Q5188229","-Q107266359|P2093|\"Goyeau D.\"","Q107266359|P2093|\"Daniel Goyeau\"|P1545|\"4\"|S248|Q5188229","-Q107266380|P2093|\"Kalendzhyan S.O.\"","Q107266380|P50|Q4209279|P1545|\"1\"|S248|Q5188229","-Q107266380|P2093|\"Gumilevskaya O.V.\"","Q107266380|P2093|\"Olga V. Gumilevskaya\"|P1545|\"3\"|S248|Q5188229","-Q107266380|P2093|\"Salnikov A.A.\"","Q107266380|P2093|\"Andrey A. Salnikov\"|P1545|\"2\"|S248|Q5188229","-Q107266383|P2093|\"Kaznacheev P.F.\"","Q107266383|P50|Q97976129|P1545|\"1\"|S248|Q5188229","-Q107266383|P2093|\"Kjurchiski N.V.\"","Q107266383|P2093|\"Nikola V. Kjurchiski\"|P1545|\"3\"|S248|Q5188229","-Q107266383|P2093|\"Samoilova R.V.\"","Q107266383|P2093|\"Regina V. Samoilova\"|P1545|\"2\"|S248|Q5188229","-Q107266385|P2093|\"Frenkel A.A.\"","Q107266385|P2093|\"Alexander A. Frenkel\"|P1545|\"1\"|S248|Q5188229","-Q107266385|P2093|\"Sergienko Y.V.\"","Q107266385|P2093|\"Yakov I. Sergienko\"|P1545|\"2\"|S248|Q5188229","-Q107266385|P2093|\"Tichomirov B.V.\"","Q107266385|P2093|\"Boris V. Tichomirov\"|P1545|\"3\"|S248|Q5188229","-Q107266385|P2093|\"Roshchina L.S.\"","Q107266385|P2093|\"Ludmila S. Roshchina\"|P1545|\"4\"|S248|Q5188229","-Q107266109|P2093|\"Balyakina E.A.\"","Q107266109|P2093|\"Evgeniya Balyakina\"|P1545|\"2\"|S248|Q5188229","-Q107265425|P2093|\"Vymyatnina Y.V.\"","Q107265425|P2093|\"Yulia V. Vymyatnina\"|P1545|\"1\"|S248|Q5188229","-Q107265425|P2093|\"Ostapenko V.M.\"","Q107265425|P2093|\"Vsevolod M. Ostapenko\"|P1545|\"3\"|S248|Q5188229","-Q107265425|P2093|\"Ryazanov V.T.\"","Q107265425|P50|Q85865704|P1545|\"4\"|S248|Q5188229","-Q107265425|P2093|\"Grishchenko V.O.\"","Q107265425|P2093|\"Vadim O. Grishchenko\"|P1545|\"2\"|S248|Q5188229","-Q107266168|P2093|\"Farhadi Z.\"","Q107266168|P2093|\"Zahra Farhadi\"|P1545|\"1\"|S248|Q5188229","-Q107266168|P2093|\"Farhadi Z.\"","Q107266168|P2093|\"Zahra Farhadi\"|P1545|\"1\"|S248|Q5188229","-Q107266168|P2093|\"Farhadi Z.\"","Q107266168|P2093|\"Zahra Farhadi\"|P1545|\"1\"|S248|Q5188229","-Q107266173|P2093|\"Malkina M.Y.\"","Q107266173|P2093|\"Marina Malkina\"|P1545|\"1\"|S248|Q5188229","-Q107266173|P2093|\"Ovchinnikov V.N.\"","Q107266173|P2093|\"Vyacheslav Ovchinnikov\"|P1545|\"2\"|S248|Q5188229"]],"container":"<table class=\"compact striped\">\n  <thead>\n    <tr>\n      <th>wikidata_statements<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"dom":"Brtip","deferRender":true,"ordering":true,"autoWidth":false,"scrollX":true,"searchHighlight":true,"order":[],"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<p>With the line (-Q107266290|P2093|“Kalendzhyan S.O.”) we remove the existing statement that claims {wikidata item Q107266290 has an author string “Kalendzhyan S.O.”}.</p>
<p>With the next line (Q107266290|P50|Q4209279|P1545|“1”|S248|Q5188229) we create a new statement that claims {wikidata item Q107266290 has an author (P50) relation to Q4209279 that is positioned (P1545) first (“1”) as stated (P248) in CrossRef (Q5188229)}.</p>
<p>Mind S instead of P for the statement used as a reference. More details on QuickStatements syntax can be found <a href="https://www.wikidata.org/wiki/Help:QuickStatements#Using_QuickStatements_version_2_in_batch_mode">here</a>)</p>
<p>The process looks like this:</p>
<ol type="1">
<li>Open <a href="https://quickstatements.toolforge.org/#/batch">QuickStatemets interface</a>. To have an access, you have to be <a href="https://www.wikidata.org/wiki/Wikidata:Autoconfirmed_users">an autoconfirmed user</a>. Paste the prepared statements (the pictures below show the result just for 2 lines, as an example!). Click Import V1 commands.</li>
</ol>
<div class="layout-chunk" data-layout="l-body-outset">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/include_graphics.html'>include_graphics</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>getwd</a></span><span class='op'>(</span><span class='op'>)</span>,<span class='st'>"/images/wd_statement_sok1.PNG"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="images/wd_statement_sok1.PNG" width="665" /></p>
</div>
<ol start="2" type="1">
<li>Check that the suggested revisions make sense (the properties are recognized and shown as active URLs). Click Run.</li>
</ol>
<div class="layout-chunk" data-layout="l-body-outset">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/include_graphics.html'>include_graphics</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>getwd</a></span><span class='op'>(</span><span class='op'>)</span>,<span class='st'>"/images/wd_statement_sok2.PNG"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="images/wd_statement_sok2.PNG" width="672" /></p>
</div>
<ol start="3" type="1">
<li>Watch. Enjoy.</li>
</ol>
<div class="layout-chunk" data-layout="l-body-outset">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/include_graphics.html'>include_graphics</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>getwd</a></span><span class='op'>(</span><span class='op'>)</span>,<span class='st'>"/images/wd_statement_sok3.PNG"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="images/wd_statement_sok3.PNG" width="668" /></p>
</div>
<ol start="4" type="1">
<li>This is how the updated article page looks like in <a href="https://www.wikidata.org/wiki/Q107266380">Wikidata</a>. The “authors” and “author name strings” are separated.</li>
</ol>
<div class="layout-chunk" data-layout="l-body-outset">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/include_graphics.html'>include_graphics</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>getwd</a></span><span class='op'>(</span><span class='op'>)</span>,<span class='st'>"/images/wd_statement_sok4.PNG"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="images/wd_statement_sok4.PNG" width="398" /></p>
</div>
<ol start="5" type="1">
<li>And this is how the article page looks like in <a href="https://scholia.toolforge.org/work/Q107266380">Scholia</a>.</li>
</ol>
<div class="layout-chunk" data-layout="l-body-outset">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/include_graphics.html'>include_graphics</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>getwd</a></span><span class='op'>(</span><span class='op'>)</span>,<span class='st'>"/images/wd_statement_sok5.PNG"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="images/wd_statement_sok5.PNG" width="574" /></p>
</div>
<p>If you click on the authors marked as UNRESOLVED:, you will be moved to the <a href="https://author-disambiguator.toolforge.org/">Author Disambiguator</a>, another extra-useful tool for editing the author information for academic publications in Wikidata.</p>
<div class="layout-chunk" data-layout="l-body-outset">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/include_graphics.html'>include_graphics</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>getwd</a></span><span class='op'>(</span><span class='op'>)</span>,<span class='st'>"/images/wd_statement_sok6.PNG"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="images/wd_statement_sok6.PNG" width="566" /></p>
</div>
<p>This application tries to find the author profile in Wikidata (I am not sure how complex its recommendation algorithm), and you can search the person by ORCID and by name. If nothing is found, the application suggests to create the new Wikidata item (this is something I decided not to do in my exercise).</p>
<div class="layout-chunk" data-layout="l-body-outset">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/include_graphics.html'>include_graphics</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>getwd</a></span><span class='op'>(</span><span class='op'>)</span>,<span class='st'>"/images/wd_statement_sok7.PNG"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="images/wd_statement_sok7.PNG" width="570" /></p>
</div>
<p>The only “but”, again, it is also for autoconfirmed users only.</p>
<h3 id="final-remarks-to-the-journal-editors">Final Remarks (to the journal editors)</h3>
<p>Wikidata has a lot of valuable tools and options for the academic journals to highlight their impact. To deal with it is just a question of having one dedicated person enrolled to take care of uploading the articles’ metadata into Wikidata and doing the author disambiguation (after getting a status of autoconfirmed user). Even if I failed to convince you to deal with Wikidata, please, do pay attention to a quality of articles’ metadata.</p>
<p>I will continue this exercise to add the affiliations and other details to Wikidata in close future.</p>
<h3 id="acknowledgments" class="appendix">Acknowledgments</h3>
<p>Allaire J, Xie Y, McPherson J, Luraschi J, Ushey K, Atkins A, Wickham H, Cheng J, Chang W, Iannone R (2021). <em>rmarkdown: Dynamic Documents for R</em>. R package version 2.7, &lt;URL: <a href="https://github.com/rstudio/rmarkdown" class="uri">https://github.com/rstudio/rmarkdown</a>&gt;.</p>
<p>Gagolewski M (2020). <em>R package stringi: Character string processing facilities</em>. &lt;URL: <a href="http://www.gagolewski.com/software/stringi/" class="uri">http://www.gagolewski.com/software/stringi/</a>&gt;.</p>
<p>Henry L, Wickham H (2020). <em>purrr: Functional Programming Tools</em>. R package version 0.3.4, &lt;URL: <a href="https://CRAN.R-project.org/package=purrr" class="uri">https://CRAN.R-project.org/package=purrr</a>&gt;.</p>
<p>Ooms J (2014). “The jsonlite Package: A Practical and Consistent Mapping Between JSON Data and R Objects.” <em>arXiv:1403.2805 [stat.CO]</em>. &lt;URL: <a href="https://arxiv.org/abs/1403.2805" class="uri">https://arxiv.org/abs/1403.2805</a>&gt;.</p>
<p>Popov M (2020). <em>WikidataQueryServiceR: API Client Library for ‘Wikidata Query Service’</em>. R package version 1.0.0, &lt;URL: <a href="https://CRAN.R-project.org/package=WikidataQueryServiceR" class="uri">https://CRAN.R-project.org/package=WikidataQueryServiceR</a>&gt;.</p>
<p>Shafee T, Keyes O, Signorelli S, Lum A, Graul C, Popov M (2021). <em>WikidataR: Read-Write API Client Library for ‘Wikidata’</em>. R package version 2.2.0, &lt;URL: <a href="https://github.com/TS404/WikidataR/issues" class="uri">https://github.com/TS404/WikidataR/issues</a>&gt;.</p>
<p>Wickham H (2020). <em>tidyr: Tidy Messy Data</em>. R package version 1.1.2, &lt;URL: <a href="https://CRAN.R-project.org/package=tidyr" class="uri">https://CRAN.R-project.org/package=tidyr</a>&gt;.</p>
<p>Wickham H (2019). <em>stringr: Simple, Consistent Wrappers for Common String Operations</em>. R package version 1.4.0, &lt;URL: <a href="https://CRAN.R-project.org/package=stringr" class="uri">https://CRAN.R-project.org/package=stringr</a>&gt;.</p>
<p>Wickham H, Francois R, Henry L, Muller K (2021). <em>dplyr: A Grammar of Data Manipulation</em>. R package version 1.0.3, &lt;URL: <a href="https://CRAN.R-project.org/package=dplyr" class="uri">https://CRAN.R-project.org/package=dplyr</a>&gt;.</p>
<p>Wickham H, Hester J (2020). <em>readr: Read Rectangular Text Data</em>. R package version 1.4.0, &lt;URL: <a href="https://CRAN.R-project.org/package=readr" class="uri">https://CRAN.R-project.org/package=readr</a>&gt;.</p>
<p>Xie Y (2020). <em>knitr: A General-Purpose Package for Dynamic Report Generation in R</em>. R package version 1.30, &lt;URL: <a href="https://yihui.org/knitr/" class="uri">https://yihui.org/knitr/</a>&gt;.</p>
<p>Xie Y (2015). <em>Dynamic Documents with R and knitr</em>, 2nd edition. Chapman and Hall/CRC, Boca Raton, Florida. ISBN 978-1498716963, &lt;URL: <a href="https://yihui.org/knitr/" class="uri">https://yihui.org/knitr/</a>&gt;.</p>
<p>Xie Y (2014). “knitr: A Comprehensive Tool for Reproducible Research in R.” In Stodden V, Leisch F, Peng RD (eds.), <em>Implementing Reproducible Computational Research</em>. Chapman and Hall/CRC. ISBN 978-1466561595, &lt;URL: <a href="http://www.crcpress.com/product/isbn/9781466561595" class="uri">http://www.crcpress.com/product/isbn/9781466561595</a>&gt;.</p>
<p>Xie Y, Allaire J, Grolemund G (2018). <em>R Markdown: The Definitive Guide</em>. Chapman and Hall/CRC, Boca Raton, Florida. ISBN 9781138359338, &lt;URL: <a href="https://bookdown.org/yihui/rmarkdown" class="uri">https://bookdown.org/yihui/rmarkdown</a>&gt;.</p>
<p>Xie Y, Cheng J, Tan X (2021). <em>DT: A Wrapper of the JavaScript Library ‘DataTables’</em>. R package version 0.17, &lt;URL: <a href="https://CRAN.R-project.org/package=DT" class="uri">https://CRAN.R-project.org/package=DT</a>&gt;.</p>
<p>Xie Y, Dervieux C, Riederer E (2020). <em>R Markdown Cookbook</em>. Chapman and Hall/CRC, Boca Raton, Florida. ISBN 9780367563837, &lt;URL: <a href="https://bookdown.org/yihui/rmarkdown-cookbook" class="uri">https://bookdown.org/yihui/rmarkdown-cookbook</a>&gt;.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
<h3 id="reuse">Reuse</h3>
<p>Text and figures are licensed under Creative Commons Attribution <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>. The figures that have been reused from other sources don't fall under this license and can be recognized by a note in their caption: "Figure from ...".</p>
</div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
